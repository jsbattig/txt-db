{
  "id": "txt-db:diff:266684124654cd11e8611089643cfdb1d41b936e:TxtDb.Storage/Services/Async/MonitoredAsyncStorageSubsystem.cs:3",
  "vector": [
    0.008128173,
    -0.001994495,
    0.003358562,
    0.053221695,
    -0.024108866,
    0.001062994,
    -0.043748342,
    -0.022443257,
    0.053141542,
    -0.018443454,
    0.038741481,
    0.013512819,
    0.058580928,
    0.014936497,
    -0.086699501,
    -0.052877136,
    0.034273993,
    0.039327335,
    -0.0278589,
    0.00538001,
    -0.052265853,
    -0.058200065,
    -0.045967806,
    0.040233091,
    -0.053689204,
    0.011808137,
    0.008611766,
    0.018899236,
    -0.032596745,
    0.046751976,
    -0.037560884,
    -0.030302428,
    0.030292781,
    0.036721706,
    0.020105343,
    -0.031819377,
    -0.026858779,
    -0.024504136,
    0.01592003,
    0.034032326,
    0.064480171,
    0.013016013,
    0.041057471,
    -0.02055297,
    0.013361424,
    -0.057975557,
    -0.008622861,
    0.005285716,
    0.025982527,
    0.029304223,
    -0.002878365,
    0.002985713,
    -0.030604724,
    0.068323717,
    0.023221357,
    -0.005171442,
    0.069247752,
    0.03934921,
    -0.036208272,
    0.025970627,
    -0.000398855,
    -0.002904701,
    -0.015435481,
    0.003165413,
    -0.025626596,
    -0.058023352,
    -0.034455944,
    0.062386785,
    0.025931809,
    -0.063817106,
    0.028336188,
    0.034806974,
    0.013786216,
    0.053111136,
    0.047531195,
    0.029801916,
    0.046950318,
    0.015144901,
    0.045533262,
    -0.0265467,
    -0.03098996,
    -0.062121257,
    0.006743498,
    -0.014356718,
    0.026759243,
    -0.016435232,
    0.010806079,
    -0.052196529,
    0.014569534,
    -0.002894921,
    -0.023886548,
    0.034076694,
    0.057115834,
    0.057208192,
    0.008792236,
    0.025634814,
    0.016647521,
    -0.001919201,
    0.048068851,
    -0.03383404,
    0.005071888,
    0.012158097,
    -0.039515484,
    0.056013182,
    -0.068590418,
    -0.013840042,
    -0.024572464,
    -0.016346747,
    0.016030455,
    0.029910062,
    0.035447311,
    0.009011226,
    0.011662881,
    0.012454638,
    0.014808233,
    0.013343819,
    0.004762202,
    -0.018831979,
    0.038289603,
    0.024684984,
    -0.031353146,
    0.027443411,
    -0.035978734,
    0.01900221,
    -0.010575909,
    0.04718395,
    -0.001920683,
    0.039101083,
    0.010550513,
    -0.033393692,
    -0.018765546,
    -0.020131404,
    -0.004020903,
    0.003349492,
    0.003070474,
    0.041712806,
    0.002457722,
    0.054756165,
    -0.003116009,
    -0.030953567,
    0.030419186,
    -0.001564176,
    -0.012803163,
    0.003829258,
    0.002266698,
    -0.003035151,
    0.018686125,
    0.00063464,
    0.019592233,
    -0.07793504,
    0.028231572,
    0.051025026,
    -0.055349611,
    0.022740241,
    -0.007408296,
    0.016362047,
    0.004824541,
    -0.021582795,
    -0.007424982,
    -0.022916097,
    -0.035578806,
    0.045477875,
    0.023476707,
    -0.024764638,
    -0.000558909,
    0.050632171,
    -0.008938417,
    0.00566368,
    0.015848473,
    -0.032817144,
    -0.061557643,
    0.021942886,
    -0.04258107,
    0.007640953,
    -0.003312597,
    0.025143607,
    0.022289798,
    0.008278619,
    -0.059889272,
    -0.04572051,
    -0.008498549,
    -0.022302037,
    0.011192616,
    -0.023713171,
    0.000475879,
    -0.020960584,
    0.055375103,
    -0.004276342,
    0.01598957,
    0.055102993,
    -0.021418752,
    0.021967879,
    -0.030299794,
    -0.023776026,
    0.000949196,
    -0.030377651,
    -0.021615673,
    -0.021617949,
    0.031575944,
    0.011642211,
    -0.054566693,
    0.049458917,
    -0.054222398,
    -0.014726197,
    0.012022967,
    0.033964783,
    -0.047726944,
    -0.00864907,
    -0.008670826,
    -0.016291125,
    -0.007942914,
    -0.019284984,
    0.004779391,
    -0.017908247,
    0.01428517,
    -0.022016007,
    -0.06667491,
    0.002815699,
    0.057539303,
    0.003480768,
    0.012284955,
    0.008450793,
    0.04095431,
    0.009770288,
    -0.02850586,
    -0.034367401,
    -0.067015313,
    -0.085413679,
    -0.007034488,
    -0.01286183,
    -0.017916605,
    -0.045056164,
    0.061112653,
    -0.054053228,
    -0.065628015,
    0.046706192,
    -0.015716923,
    -0.032458819,
    -0.005135624,
    -0.013874483,
    -0.010707864,
    0.054134257,
    -0.012024864,
    0.011576634,
    -0.025993772,
    0.008947226,
    0.045344818,
    -0.017618785,
    0.000788953,
    0.025172407,
    -0.032166474,
    0.03113362,
    -0.023060329,
    0.087459631,
    0.04118323,
    0.004781131,
    0.000430884,
    -0.025007568,
    0.005082451,
    -0.035278272,
    0.007657075,
    0.013283344,
    -0.006025779,
    0.001992167,
    0.004420144,
    0.008048078,
    -0.046934348,
    -0.032325912,
    -0.020100515,
    0.030663244,
    0.018103169,
    0.01116337,
    0.045627363,
    0.006019952,
    0.001289755,
    -0.012159582,
    0.012458238,
    0.038228672,
    0.032122664,
    0.023433104,
    -0.045955107,
    -0.016665256,
    0.04535025,
    -0.049573869,
    -0.034731608,
    -0.022746196,
    0.040756244,
    -0.014977986,
    0.032874271,
    0.0525469,
    0.02997773,
    -0.009573537,
    0.009524864,
    -0.019007457,
    0.039922684,
    0.012103021,
    0.022302929,
    -0.011493352,
    0.001348385,
    -0.040024798,
    -0.00979238,
    -0.000452309,
    0.053650968,
    0.026792537,
    0.005923511,
    0.010210333,
    0.02579082,
    -0.025303176,
    0.014000359,
    -0.003570251,
    -0.045715775,
    -0.017569982,
    0.036778882,
    -0.003422013,
    0.015338687,
    -0.007830247,
    -0.003037406,
    -0.008680196,
    -0.017787065,
    0.006460615,
    -0.007389118,
    -0.020995762,
    0.019051632,
    -0.096749231,
    0.019423207,
    -0.002659031,
    -0.053209353,
    -0.055508219,
    0.025469415,
    -0.022910474,
    0.000949266,
    0.035195682,
    0.003703892,
    0.03647393,
    0.01335933,
    0.021304194,
    -0.010399804,
    0.010781198,
    -0.066948391,
    0.028676834,
    0.001443663,
    -0.01706405,
    0.024429411,
    -0.02644646,
    0.049253475,
    -0.016951852,
    0.009775394,
    -0.006487485,
    -0.023279916,
    0.034202192,
    -0.002251544,
    -0.060156155,
    -0.019776136,
    0.010963213,
    -0.076442011,
    0.069221981,
    -0.018572867,
    0.029517597,
    0.000557738,
    0.029049996,
    -9.5763e-05,
    0.042383671,
    -0.054295111,
    -0.008639222,
    -0.035263766,
    -0.007672377,
    -0.048574798,
    0.074119948,
    -0.034037076,
    0.005983965,
    -0.059687145,
    -0.03756161,
    -0.038552921,
    -0.025619363,
    -0.002548349,
    0.03032193,
    0.040165853,
    -0.004702877,
    -0.017131366,
    -0.025453221,
    -0.003349631,
    0.009339246,
    0.015095985,
    0.007746601,
    -0.0075621,
    -0.025579821,
    -0.002681518,
    -0.008168228,
    -0.019418629,
    0.048812311,
    -0.009455379,
    0.059942592,
    -0.027106691,
    0.022781013,
    0.00879036,
    -0.042158999,
    0.010995899,
    0.033498518,
    0.021024171,
    -0.037807781,
    0.012341491,
    -0.022104302,
    0.03610209,
    -0.089173853,
    0.029166969,
    0.013175362,
    0.018834241,
    0.01941335,
    0.014771072,
    0.045854043,
    -0.017267967,
    0.023851342,
    0.009142886,
    -2.2813e-05,
    -0.026880853,
    0.029947707,
    -0.021176701,
    -0.008830238,
    0.00912885,
    -0.012435296,
    0.02253904,
    -0.02788895,
    0.027323002,
    0.002615784,
    -0.04237638,
    0.01393786,
    0.010227348,
    -0.09944839,
    -0.041522887,
    -0.006750354,
    0.013384791,
    -0.004575847,
    -0.058778159,
    0.030368563,
    0.006963697,
    -0.058134988,
    0.017936299,
    0.012804896,
    -0.027906116,
    -0.004252995,
    0.041161686,
    -0.028089209,
    0.005279391,
    0.006667952,
    -0.008848395,
    0.002562982,
    0.024100073,
    0.057341948,
    -0.012013634,
    -0.011736674,
    -0.075740226,
    -0.01984727,
    -0.042696889,
    0.005158455,
    0.044253107,
    -0.014839398,
    -0.013161968,
    0.03553813,
    -0.00924986,
    -0.006760823,
    -0.007279539,
    -0.005466854,
    0.005893057,
    0.01035199,
    -0.012146063,
    0.021800097,
    0.043136258,
    -0.049800336,
    0.015290105,
    0.004151899,
    0.051945101,
    -0.027673425,
    -0.017345898,
    0.003397074,
    0.033625133,
    0.048145805,
    0.028943857,
    0.039115649,
    -0.00830795,
    -0.045938093,
    -0.04786301,
    -0.067313552,
    -0.031610478,
    -0.017310958,
    -0.023650361,
    0.028765095,
    -0.029874491,
    0.010693361,
    0.019667068,
    -0.033322126,
    -0.027921965,
    -0.003196843,
    -0.018244771,
    -0.006540111,
    0.043148831,
    0.029424503,
    -0.031203335,
    -0.022989303,
    -0.019008284,
    0.047820602,
    0.025815714,
    -0.075173058,
    -0.005649027,
    -0.002000661,
    -0.044641525,
    0.015326036,
    0.008687107,
    -0.022101076,
    -0.103026256,
    0.01451469,
    0.004036991,
    -0.018266907,
    0.002441694,
    0.000801101,
    0.045778956,
    -0.047606103,
    -0.03244279,
    0.027278284,
    -0.013675743,
    -0.044610705,
    0.003949477,
    -0.018465009,
    -0.041444119,
    -0.086079866,
    -0.00031315,
    0.024658883,
    0.03556652,
    0.015490855,
    0.00569395,
    -0.037500169,
    0.040173035,
    0.017031228,
    -0.029962646,
    -0.040304836,
    0.006522294,
    -0.031497903,
    0.02842051,
    -0.003051041,
    -0.002866552,
    0.006603416,
    -0.036524221,
    0.011270247,
    -0.003160529,
    -0.050564017,
    0.019514017,
    0.014056685,
    -0.008895267,
    0.027897609,
    0.013013375,
    -0.01858367,
    -0.01660548,
    0.042199541,
    0.026470505,
    0.088552676,
    -0.03280855,
    0.051660866,
    0.023259889,
    -0.015640236,
    0.051945236,
    -0.014995069,
    0.006725344,
    0.045726839,
    0.003496233,
    -0.001243377,
    -0.028366454,
    0.054664087,
    0.034713864,
    0.005946548,
    -0.030321239,
    0.00843053,
    0.008668804,
    -0.009415095,
    0.039324205,
    0.008364518,
    0.001500547,
    0.037517682,
    -0.004259966,
    -0.038444653,
    0.003903898,
    -0.008791879,
    0.011031246,
    0.016967591,
    0.018945068,
    0.015035989,
    -0.022212083,
    -0.059916727,
    0.023381561,
    -0.00274816,
    -0.041051231,
    -0.011734168,
    0.024059555,
    -0.005659933,
    0.006693937,
    -0.015913578,
    0.069580212,
    0.006113578,
    -0.040852994,
    -0.020919938,
    -0.010210265,
    -0.026975797,
    0.000237134,
    0.006379418,
    0.013941817,
    0.014300459,
    -0.009879997,
    -0.044776786,
    0.023552863,
    -0.009737769,
    0.046928864,
    0.039777543,
    0.024040559,
    0.015319278,
    0.083267823,
    -0.007051937,
    0.014420489,
    0.040657558,
    0.033788402,
    -0.0928858,
    0.032407373,
    0.017380267,
    0.027400099,
    -0.051138289,
    -0.015134266,
    -0.00987674,
    0.008571452,
    -0.009544133,
    0.036628302,
    0.012110961,
    0.015620212,
    0.018616186,
    0.009555747,
    0.003952462,
    -0.050089706,
    -0.00686498,
    -0.002705607,
    0.012884556,
    0.037432075,
    0.012905941,
    0.013983821,
    0.015149506,
    0.014162027,
    -0.011653535,
    0.002652821,
    0.015123262,
    0.053332735,
    0.006573805,
    0.04106757,
    -0.028031854,
    -0.017670451,
    0.028984718,
    0.027679985,
    -0.001039112,
    0.067863017,
    0.042990509,
    0.039562754,
    0.008621119,
    0.029222559,
    -0.007852716,
    -0.015322822,
    -0.012402956,
    -0.03076753,
    -0.02318126,
    -0.019639568,
    0.018716693,
    0.036521379,
    -0.024323577,
    0.011747621,
    0.039118718,
    -0.017219072,
    -0.046483684,
    -0.041109841,
    -0.002472954,
    -0.053526383,
    -0.031264309,
    -0.002726078,
    0.013130622,
    -0.008725538,
    0.016921623,
    -0.01206645,
    0.005041245,
    0.050566752,
    0.089738481,
    -0.030461431,
    0.00511909,
    -0.047833912,
    -0.025249748,
    -0.042594794,
    0.045002796,
    0.010778221,
    0.018660657,
    -0.01767011,
    -0.014638528,
    0.08694642,
    -0.05311124,
    0.01989763,
    0.00243636,
    0.020334857,
    -0.011277017,
    -0.02236264,
    -0.057288744,
    0.016922021,
    0.052452438,
    -0.009236476,
    -0.009789228,
    0.011026772,
    -0.010240298,
    -0.002407785,
    -0.006307201,
    0.051745947,
    0.000266803,
    -0.006483262,
    -0.035377979,
    0.012886743,
    0.00638546,
    -0.007406939,
    -0.01747629,
    -0.059804667,
    -0.051171422,
    -0.016834013,
    0.007381705,
    0.01441209,
    -0.0104572,
    -0.047873233,
    0.010940165,
    0.014172751,
    0.033606227,
    -0.012019529,
    0.005040126,
    0.066197209,
    -0.022461783,
    -0.022671424,
    0.038212772,
    0.022518275,
    0.018130338,
    -0.062217072,
    0.009941424,
    -0.039803993,
    -0.012174597,
    -0.026217001,
    -6.8094e-05,
    0.016593654,
    -0.011309707,
    -0.015651854,
    -0.004615257,
    -0.011951472,
    -0.010704105,
    -0.011748835,
    0.024769727,
    -0.023911564,
    -0.013194039,
    -0.012076937,
    0.017044283,
    -0.002960043,
    -0.025391534,
    0.020840563,
    -0.00824245,
    -0.032541044,
    0.055800609,
    -0.012093171,
    0.038461458,
    -0.035109241,
    0.025063528,
    0.002970697,
    -0.053917166,
    -0.03292555,
    -0.051422443,
    0.013623072,
    0.0075486,
    -0.046496738,
    -0.005094876,
    -0.032466095,
    -0.015836261,
    -0.023088928,
    0.03412148,
    -0.034326691,
    -0.046854928,
    0.002683485,
    -0.025080094,
    -0.013830523,
    -0.031483825,
    -0.01347594,
    -0.017252104,
    -0.011167837,
    -0.019729977,
    -0.039560959,
    0.008086189,
    0.012884328,
    0.053742655,
    -0.019343063,
    -0.039896548,
    0.04714353,
    0.019113377,
    -0.037179209,
    0.002253413,
    0.039462063,
    0.018707601,
    -0.031136021,
    -0.036095086,
    0.014762183,
    0.035130367,
    -0.034634162,
    0.05072904,
    -0.007553377,
    0.052192368,
    -0.021011492,
    0.005964713,
    0.064327322,
    -0.01883854,
    0.003271106,
    -0.021353859,
    0.004596794,
    0.006885293,
    -0.057195734,
    -0.008260057,
    0.025761999,
    0.004001453,
    -0.060187779,
    0.007099628,
    0.015609113,
    -0.012106279,
    0.000251238,
    0.017564049,
    0.031383425,
    0.001183802,
    -0.027828641,
    0.008195503,
    -0.017754266,
    -0.0072458,
    -0.004386314,
    -0.032409839,
    -0.043128483,
    0.019654948,
    -0.007318197,
    -0.015579673,
    0.012198111,
    -0.004234772,
    -0.01058316,
    0.06038199,
    -0.012328305,
    -0.030682594,
    0.009289084,
    0.011050635,
    0.031901114,
    0.020318246,
    -0.04762933,
    -0.044302471,
    -0.022111623,
    0.025643814,
    -0.030296581,
    0.01750489,
    -0.002452735,
    -0.01562272,
    -0.017093899,
    -0.019989608,
    0.006025692,
    0.064997397,
    -0.01067564,
    0.009595735,
    -0.052046075,
    -0.008331602,
    0.059391432,
    0.023046166,
    -0.011285591,
    -0.009680137,
    -0.031876583,
    -0.031720735,
    -0.000975561,
    -0.019456813,
    -0.034554739,
    -0.031676736,
    -0.001134333,
    0.045179542,
    -0.059456315,
    -0.005869097,
    0.015123253,
    0.037333954,
    0.041299716,
    0.008258682,
    -0.023887111,
    0.015625924,
    -0.007214949,
    0.016775658,
    0.006297476,
    0.005506786,
    0.025984235,
    -0.009866606,
    -0.02142508,
    -0.0014483,
    -0.028176041,
    0.018796656,
    -0.042131077,
    -0.016569622,
    -0.000562157,
    0.048424475,
    0.028428562,
    0.020187188,
    0.015424917,
    -0.037554931,
    0.034765095,
    0.025859458,
    -0.00446654,
    0.029306706,
    -0.056035142,
    0.025438268,
    0.033508006,
    0.016857199,
    -0.031875078,
    -0.013697741,
    -0.006192614,
    0.05458146,
    0.024810944,
    -0.03195766,
    -0.010195773,
    -0.016666221,
    0.00493728,
    -0.012671349,
    0.008970079,
    0.037738834,
    0.02970673,
    -0.027200239,
    -0.002627523,
    -0.053888764,
    -0.020612143,
    0.041755795,
    0.035363447,
    0.000709838,
    -0.09087681,
    0.016415209,
    -0.032315377,
    0.037504852,
    -0.034777857,
    -0.010796365,
    -0.010309654,
    -0.008984775,
    -0.007262964,
    -0.022859983,
    -0.005368119,
    0.061400428,
    0.028218493,
    -0.043643564,
    0.026744077,
    -0.050735012,
    -0.039700259,
    -0.012620236,
    -0.053363539,
    0.016991101,
    0.003966759,
    0.035116334,
    0.004788253,
    -0.016089389,
    0.034431886,
    -0.03742015,
    0.018335208,
    0.031904113,
    0.024246603,
    -0.009562708,
    -0.037858866,
    -0.028224541,
    -0.004507553,
    -0.02169672,
    0.015675921,
    -0.020431498,
    0.021252878,
    0.015986452,
    0.034954954,
    -0.012524265,
    0.022180203,
    0.060242344,
    0.035710052,
    0.028856684,
    0.023111695,
    -0.041295532,
    -0.025127841,
    0.013020614,
    -0.033759329,
    -0.034249913,
    0.043790113,
    -0.009038358,
    -0.055326361,
    0.030121289,
    0.055816438,
    0.023891527,
    0.051275257,
    -0.019512739,
    0.023265347,
    -0.056529667,
    -0.039867017,
    0.03697117,
    -0.038124453,
    -0.024081048,
    0.005719576,
    -0.010202454,
    -0.007966865,
    0.035127062,
    -0.009776866,
    -0.025859445,
    -0.034181062,
    -0.003975411,
    0.018288422,
    -0.032410525,
    0.051691242,
    0.006546986,
    0.042086098,
    -0.004284242,
    -0.005500783,
    -0.03878678,
    0.014205773,
    0.003821958,
    0.04678341,
    0.045513295,
    0.02502396,
    0.046092391,
    0.003097913,
    0.035493284,
    -0.006243403,
    0.011655206,
    0.020870501,
    -0.028536107,
    0.059860714,
    0.012705167,
    0.029951191,
    -0.022800729,
    0.001265376,
    -0.03880024
  ],
  "metadata": {
    "language": "cs",
    "type": "commit_diff"
  },
  "payload": {
    "type": "commit_diff",
    "diff_type": "modified",
    "commit_hash": "266684124654cd11e8611089643cfdb1d41b936e",
    "commit_timestamp": 1754539501,
    "commit_date": "2025-08-06",
    "commit_message": "Complete 7-Phase TxtDb System Transformation\n\nMAJOR ACHIEVEMENTS:\n- Transformed system from ~40-50% to 95-100% pass rate\n- Fixed fundamental data visibility issues with JSON type handling\n- Implemente",
    "author_name": "jsbattig",
    "author_email": "jsbattig@gmail.com",
    "path": "TxtDb.Storage/Services/Async/MonitoredAsyncStorageSubsystem.cs",
    "chunk_index": 3,
    "char_start": 0,
    "char_end": 0,
    "project_id": "txt-db",
    "language": "cs",
    "file_extension": "cs"
  },
  "chunk_text": "t _innerStorage.RenameNamespaceAsync(transactionId, oldName, newName, cancellationToken).ConfigureAwait(false);\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Invalidate cache since both namespaces changed\n+            InvalidateNamespaceCache(oldName);\n+            InvalidateNamespaceCache(newName);\n         }\n         catch (Exception ex)\n         {\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: false);\n@@ -363,15 +498,27 @@ public class MonitoredAsyncStorageSubsystem : IDisposable\n \n     // Synchronous methods delegated to base class (AsyncStorageSubsystem inherits from StorageSubsystem)    \n     public object[] ReadPage(long transactionId, string namespaceName, string pageId)\n     {\n         var stopwatch = Stopwatch.StartNew();\n+        \n+        // CRITICAL FIX: Add namespace existence checking to synchronous method consistent with async version\n+        bool namespaceExistedBefore = CheckNamespaceExistsWithCaching(namespaceName);\n+        \n         try\n         {\n             var result = _innerStorage.ReadPage(transactionId, namespaceName, pageId);\n             stopwatch.Stop();\n             _metrics.RecordReadOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Track operation of concern if namespace didn't exist before successful operation\n+            if (!namespaceExistedBefore)\n+            {\n+                _metrics.RecordError(\"NonExistentNamespaceAccess\", \n+                    $\"Attempted to read from non-existent namespace: {namespaceName}\");\n+            }\n+            \n             return result;\n         }\n         catch (Exception ex)\n         {\n             stopwatch.Stop();\n@@ -382,15 +529,27 @@ public class MonitoredAsyncStorageSubsystem : IDisposable\n     }\n \n     public Dictionary<string, object[]> GetMatchingObjects(long transactionId, string namespaceName, string pattern)\n     {\n         var stopwatch = Stopwatch.StartNew();\n+        \n+        // CRITICAL FIX: Add namespace existence checking to synchronous method consistent with async version\n+        bool namespaceExistedBefore = CheckNamespaceExistsWithCaching(namespaceName);\n+        \n         try\n         {\n             var result = _innerStorage.GetMatchingObjects(transactionId, namespaceName, pattern);\n             stopwatch.Stop();\n             _metrics.RecordReadOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Track operation of concern if namespace didn't exist before successful operation\n+            if (!namespaceExistedBefore)\n+            {\n+                _metrics.RecordError(\"NonExistentNamespaceAccess\", \n+                    $\"Attempted to query non-existent namespace: {namespaceName}\");\n+            }\n+            \n             return result;\n         }\n         catch (Exception ex)\n         {\n             stopwatch.Stop();\n@@ -401,15 +560,30 @@ public class MonitoredAsyncStorageSubsystem : IDisposable\n     }\n \n     public string InsertObject(long transactionId, string namespaceName, object obj)\n     {\n         var stopwatch = Stopwatch.StartNew();\n+        \n+        // CRITICAL FIX: Add namespace existence checking to synchronous method consistent with async version\n+        bool namespaceExistedBefore = CheckNamespaceExistsWithCaching(namespaceName);\n+        \n         try\n         {\n             var result = _innerStorage.InsertObject(transactionId, namespaceName, obj);\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Track operation of concern if namespace was auto-created during successful operation\n+            if (!namespaceExistedBefore)\n+            {\n+                _metrics.RecordError(\"NonExistentNamespaceAccess\", \n+                    $\"Attempted to insert into non-existent namespace (auto-creating): {namespaceName}\");\n+                \n+                // Invalidate cache since namespace was auto-created\n+                Invalida"
}