{
  "id": "txt-db:diff:266684124654cd11e8611089643cfdb1d41b936e:TxtDb.Storage/Services/Async/MonitoredAsyncStorageSubsystem.cs:2",
  "vector": [
    0.02407431,
    0.010873578,
    0.000432865,
    0.05827482,
    -0.02367566,
    -0.006037513,
    -0.048206348,
    -0.035062481,
    0.040064551,
    -0.011579402,
    0.041464634,
    0.014420407,
    0.065787561,
    0.022739528,
    -0.079388462,
    -0.047176324,
    0.044903044,
    0.04728372,
    -0.028588403,
    -0.012865159,
    -0.039539415,
    -0.060063131,
    -0.040560555,
    0.042503059,
    -0.050141662,
    0.020795338,
    0.020279588,
    0.012122134,
    -0.03183816,
    0.03627618,
    -0.042496417,
    -0.036172081,
    0.041920464,
    0.041739095,
    0.02429346,
    -0.045271091,
    -0.0236136,
    -0.020970354,
    0.016447758,
    0.026732469,
    0.068635389,
    0.018236848,
    0.046371695,
    -0.023398627,
    0.027092487,
    -0.06668666,
    -0.010214345,
    -0.003380746,
    0.008854255,
    0.023372002,
    -0.006254467,
    -0.004885056,
    -0.024068888,
    0.061994955,
    0.010704385,
    -0.007882918,
    0.072049759,
    0.046855349,
    -0.036129881,
    0.013098852,
    -0.016573817,
    -0.015045457,
    -0.015216805,
    0.015749725,
    -0.02791631,
    -0.047790378,
    -0.027329488,
    0.060616519,
    0.009807193,
    -0.062070709,
    0.037830953,
    0.026600569,
    0.014078176,
    0.049870394,
    0.054089371,
    0.039496053,
    0.052672312,
    0.022671079,
    0.059311595,
    -0.020122865,
    -0.028696364,
    -0.061898272,
    0.009382672,
    -0.021530779,
    0.027712872,
    -0.027168915,
    -0.000736829,
    -0.030267278,
    0.018139414,
    0.013653032,
    -0.01695789,
    0.025530696,
    0.060593933,
    0.065746136,
    0.012407441,
    0.016167063,
    -0.000111092,
    0.004952946,
    0.044379797,
    -0.024159921,
    0.005349652,
    0.009810511,
    -0.050419338,
    0.055543628,
    -0.057899993,
    -0.000593513,
    -0.014184108,
    -0.008765921,
    0.016021701,
    0.03210916,
    0.033437937,
    0.012166365,
    0.011423863,
    0.007885287,
    0.012134423,
    0.024014045,
    0.009294054,
    -0.026138077,
    0.034508988,
    0.023656251,
    -0.038630754,
    0.022075037,
    -0.044620149,
    0.007782119,
    -0.005378685,
    0.055366866,
    -0.004136385,
    0.05102684,
    0.00768169,
    -0.034140699,
    -0.007675433,
    -0.010668721,
    -0.009690376,
    8.6841e-05,
    -0.006140338,
    0.048351139,
    0.021265473,
    0.05009133,
    0.001761238,
    -0.030904872,
    0.0276036,
    -0.00614199,
    -0.013492882,
    0.010021063,
    0.012723088,
    -0.008302128,
    0.026449597,
    -0.012763494,
    0.008151945,
    -0.083849996,
    0.032712743,
    0.059735756,
    -0.05369461,
    0.020060524,
    -0.010121453,
    0.003886065,
    0.015709992,
    -0.038173728,
    -0.022179892,
    -0.023482401,
    -0.033196885,
    0.051513426,
    0.02542606,
    -0.023485778,
    -0.010468402,
    0.046920106,
    -0.012573161,
    0.010637528,
    0.01776062,
    -0.032128364,
    -0.052484665,
    0.032221589,
    -0.051213246,
    0.00764415,
    -0.001191105,
    0.026572973,
    0.026408272,
    0.003729789,
    -0.049366403,
    -0.038853277,
    0.003563045,
    -0.02395935,
    0.008174618,
    -0.029153984,
    -0.003968398,
    -0.011261337,
    0.045772452,
    -0.009631037,
    0.012267187,
    0.04536134,
    -0.019915039,
    0.029422112,
    -0.032346327,
    -0.015571251,
    -0.007231032,
    -0.034628436,
    -0.025572445,
    -0.019712422,
    0.028103169,
    0.004364787,
    -0.053107236,
    0.0309691,
    -0.044375952,
    -0.013645019,
    0.011563746,
    0.035353951,
    -0.058212101,
    -0.008103173,
    -0.003319905,
    -0.018044172,
    -0.005596423,
    -0.000372173,
    0.003332198,
    -0.02183279,
    0.018693343,
    -0.007378025,
    -0.068902411,
    -0.002103153,
    0.053232104,
    -0.002410752,
    0.02335337,
    0.009490099,
    0.050418548,
    0.024397038,
    -0.035037614,
    -0.030714108,
    -0.060481381,
    -0.075674422,
    0.003118034,
    -0.011944811,
    -0.01179142,
    -0.05451861,
    0.055047072,
    -0.061062429,
    -0.063338004,
    0.040328223,
    -0.016518904,
    -0.036971241,
    -0.00561451,
    -0.002309062,
    -0.012555227,
    0.04780836,
    -0.007760492,
    0.015951892,
    -0.028147839,
    0.019139614,
    0.04123763,
    -0.018315185,
    0.008321665,
    0.025597729,
    -0.035431571,
    0.02815224,
    -0.016807463,
    0.084358737,
    0.027435327,
    0.006379714,
    -0.002052684,
    -0.037645642,
    0.010644262,
    -0.026248528,
    0.018809343,
    0.001240863,
    0.001428969,
    0.002720796,
    0.00800535,
    0.0125633,
    -0.057719581,
    -0.030159371,
    -0.008988084,
    0.04821194,
    0.022055693,
    0.011632387,
    0.046000682,
    -0.000543057,
    0.006884308,
    -0.008389706,
    0.01731539,
    0.043101918,
    0.030628905,
    0.031019572,
    -0.051594704,
    -0.019616518,
    0.036428194,
    -0.054583963,
    -0.050643843,
    -0.019077038,
    0.041138429,
    -0.034027997,
    0.023053421,
    0.037450045,
    0.03020655,
    -0.010262621,
    0.005572667,
    -0.031130387,
    0.019478409,
    0.023780679,
    0.014531363,
    -0.00405109,
    0.000340727,
    -0.046925426,
    -0.017200226,
    -0.001037585,
    0.048101433,
    0.023694344,
    0.011112091,
    0.012363986,
    0.027162809,
    -0.019205691,
    0.020751463,
    -0.009536442,
    -0.039430868,
    -0.01781944,
    0.040997513,
    -0.004734865,
    0.028176146,
    -0.002681088,
    0.000781038,
    -0.012907882,
    -0.007756948,
    0.013414772,
    -0.018460147,
    -0.017039547,
    0.021424334,
    -0.091992028,
    0.011961416,
    -0.001917521,
    -0.05240709,
    -0.061114039,
    0.03085581,
    -0.03396989,
    0.00580852,
    0.029802283,
    0.005295753,
    0.034751199,
    0.01489237,
    0.017544512,
    -0.015990892,
    0.011460426,
    -0.06398917,
    0.039587751,
    -0.004756288,
    -0.022912426,
    0.029910905,
    -0.021231348,
    0.041642845,
    -0.028231274,
    0.009985486,
    -0.007263472,
    -0.024179082,
    0.039841969,
    -0.008004147,
    -0.056915041,
    -0.00713323,
    0.011914284,
    -0.063921288,
    0.083013602,
    -0.026069952,
    0.020029398,
    0.001448011,
    0.029782597,
    -0.014288262,
    0.041285519,
    -0.038309168,
    -0.00098357,
    -0.027805872,
    -0.001356455,
    -0.035100825,
    0.072216034,
    -0.031031439,
    0.006065657,
    -0.061458301,
    -0.044353932,
    -0.039729908,
    -0.018873999,
    0.00470897,
    0.028140713,
    0.034868926,
    -0.008454237,
    -0.018122045,
    -0.006538928,
    -0.015599649,
    0.008951425,
    0.005883127,
    0.014471461,
    0.00599592,
    -0.015018168,
    -0.002032726,
    -0.00315698,
    -0.024487138,
    0.044932779,
    -0.011588918,
    0.0664066,
    -0.019714789,
    0.028889945,
    0.004635542,
    -0.041215256,
    0.023024159,
    0.02355901,
    0.025972947,
    -0.040564977,
    0.019953307,
    -0.012866204,
    0.038442146,
    -0.088806912,
    0.037197944,
    0.012162528,
    0.015928594,
    0.027818758,
    0.025963638,
    0.035305437,
    -0.010958841,
    0.027848184,
    0.003951197,
    0.019628309,
    -0.019329626,
    0.029491758,
    -0.025012933,
    -0.013162593,
    0.011423112,
    -0.026061738,
    0.034850106,
    -0.023620065,
    0.00952231,
    -0.000524779,
    -0.034106802,
    0.015056037,
    0.010621574,
    -0.097158782,
    -0.043657266,
    -0.000395049,
    0.00858183,
    -0.013718482,
    -0.057745442,
    0.02280581,
    0.002071855,
    -0.053651832,
    0.018070025,
    0.000298618,
    -0.020396374,
    -0.007996543,
    0.029346284,
    -0.025592268,
    0.004237889,
    0.006013685,
    -0.016538041,
    -0.002641596,
    0.011321503,
    0.058882307,
    -0.010962119,
    -0.016974764,
    -0.083670698,
    -0.012645295,
    -0.039576132,
    -0.005961679,
    0.04148367,
    -0.001707093,
    -0.012645553,
    0.025918471,
    -0.00780434,
    -0.010193876,
    0.004897625,
    -0.01418974,
    0.005651435,
    -9.697e-06,
    -0.005362189,
    0.02839558,
    0.043521006,
    -0.056760293,
    0.0084301,
    0.001038395,
    0.055694602,
    -0.020050462,
    -0.017743137,
    0.008145901,
    0.025643265,
    0.042258643,
    0.026299367,
    0.033751849,
    -0.008967061,
    -0.043554388,
    -0.045284167,
    -0.064802386,
    -0.02244718,
    -0.016728224,
    -0.016335007,
    0.027505491,
    -0.025856683,
    0.012718603,
    0.021952283,
    -0.042234372,
    -0.035875678,
    0.000601607,
    -0.023287509,
    -0.006788847,
    0.040087733,
    0.02685954,
    -0.035088602,
    -0.032010231,
    -0.01344202,
    0.045533784,
    0.025734134,
    -0.077976577,
    -0.009813569,
    0.008669528,
    -0.052786957,
    0.019127581,
    0.011659123,
    -0.026748218,
    -0.099440716,
    0.009530281,
    -0.004466834,
    -0.031731594,
    0.01522642,
    -0.000341681,
    0.050921418,
    -0.052650012,
    -0.029825967,
    0.0349201,
    -0.021741983,
    -0.0318074,
    0.01482327,
    -0.024994479,
    -0.051316101,
    -0.077154562,
    -0.005452449,
    0.015473668,
    0.043675724,
    0.006976097,
    -0.001774675,
    -0.044836048,
    0.030692842,
    0.030854756,
    -0.030259371,
    -0.044691171,
    0.001912054,
    -0.040918626,
    0.020013195,
    -0.002714517,
    -0.005823331,
    0.011359998,
    -0.030771963,
    0.006035255,
    0.004151952,
    -0.055481475,
    0.03267448,
    0.003221737,
    -0.006518118,
    0.035343319,
    0.00713172,
    -0.017218061,
    -0.008246581,
    0.043106817,
    0.025295708,
    0.095502011,
    -0.027957343,
    0.059600063,
    0.015421166,
    -0.013560768,
    0.055557515,
    -0.014250221,
    -0.005477373,
    0.048743162,
    0.006445581,
    0.01376253,
    -0.027306039,
    0.051907357,
    0.027266378,
    0.006757215,
    -0.026491385,
    0.010848987,
    0.004178518,
    -9.649e-05,
    0.026477013,
    0.005982393,
    -0.000789089,
    0.037677176,
    0.004970438,
    -0.050629809,
    -0.001305963,
    -0.008926976,
    0.005443669,
    0.013288479,
    0.016998639,
    0.007264239,
    -0.026227945,
    -0.051646754,
    0.022715889,
    -0.015135429,
    -0.040034115,
    -0.005007462,
    0.028100757,
    -0.002149797,
    0.008690692,
    -0.01451245,
    0.065954156,
    0.000428049,
    -0.030137599,
    -0.023799868,
    -0.004896566,
    -0.030401235,
    0.006247483,
    -0.004900891,
    0.005153216,
    0.006451664,
    -0.007808098,
    -0.050363317,
    0.023576302,
    -0.00141783,
    0.059000622,
    0.028477963,
    0.014003495,
    0.022033254,
    0.072442956,
    -0.017409744,
    0.011123345,
    0.051148251,
    0.040630028,
    -0.08420001,
    0.023978094,
    0.019516505,
    0.029329127,
    -0.045585766,
    -0.019650763,
    -0.009898099,
    0.006296764,
    -0.016134188,
    0.041621,
    -0.005080452,
    0.019027362,
    0.014688989,
    -0.004856066,
    0.006530697,
    -0.050806437,
    -0.016547231,
    0.016534936,
    0.013011009,
    0.028591027,
    0.008773196,
    0.014743209,
    0.027308909,
    0.00979856,
    -0.022070777,
    0.00266379,
    0.008553485,
    0.049193259,
    0.020387733,
    0.049913753,
    -0.025208713,
    -0.013689649,
    0.033830564,
    0.032486144,
    0.001814495,
    0.07337264,
    0.031472545,
    0.042830177,
    0.004851332,
    0.020039162,
    -0.00763486,
    -0.023458472,
    -0.013626792,
    -0.023521861,
    -0.033667929,
    -0.018373303,
    0.023068534,
    0.037406445,
    -0.02184069,
    0.001725373,
    0.05217059,
    -0.019201767,
    -0.051192835,
    -0.037688751,
    -0.007745444,
    -0.059586495,
    -0.022327472,
    0.00561148,
    0.024743304,
    -0.005823497,
    0.025578644,
    -0.007740232,
    0.018631279,
    0.052999012,
    0.088127866,
    -0.03373884,
    0.00865835,
    -0.045566078,
    -0.025631826,
    -0.041971404,
    0.037856858,
    0.020186102,
    0.013278266,
    -0.021804418,
    -0.013100003,
    0.090349607,
    -0.062450558,
    0.01900278,
    0.010234929,
    0.026940558,
    -0.017129106,
    -0.022436067,
    -0.063045867,
    0.014902239,
    0.049172126,
    -0.01373558,
    -0.014440235,
    0.004618054,
    -0.015011792,
    -0.003662358,
    -0.000864238,
    0.057222519,
    -0.002823,
    -0.008601064,
    -0.029413193,
    0.010254377,
    0.006373023,
    -0.008023735,
    -0.020947736,
    -0.051052645,
    -0.057768673,
    -0.01238984,
    -0.003537326,
    0.010343901,
    -0.002613612,
    -0.03335873,
    0.009141295,
    0.014869248,
    0.031332709,
    -0.023942832,
    -0.004141876,
    0.073890626,
    -0.027361004,
    -0.023777897,
    0.039214786,
    0.010850593,
    0.01727478,
    -0.059408158,
    0.016444009,
    -0.037390992,
    -0.017121397,
    -0.017552352,
    -0.004860756,
    0.00607749,
    -0.013781868,
    -0.006070444,
    -0.001729994,
    -0.023104778,
    -0.017236477,
    -0.010287556,
    0.02639831,
    -0.030056631,
    -0.015291383,
    -0.016148604,
    0.011594035,
    -0.000723358,
    -0.028677993,
    0.01409244,
    -0.001342055,
    -0.030056011,
    0.056915771,
    -0.005155246,
    0.032420225,
    -0.02219595,
    0.032140091,
    0.010250483,
    -0.070562318,
    -0.036844768,
    -0.049652614,
    -0.001982979,
    0.005778932,
    -0.04446828,
    -0.007952098,
    -0.0258688,
    -0.014831792,
    -0.018115252,
    0.056861579,
    -0.022785526,
    -0.034814257,
    0.009305535,
    -0.020411458,
    -0.005448208,
    -0.03393732,
    -0.018192098,
    -0.011591488,
    -0.008854502,
    -0.018879406,
    -0.049692467,
    0.000370361,
    0.005982483,
    0.053098824,
    -0.024443569,
    -0.038453333,
    0.057183042,
    0.015226871,
    -0.030993216,
    0.003642001,
    0.046749528,
    0.018681597,
    -0.02842488,
    -0.03282202,
    0.006601386,
    0.027146697,
    -0.028123204,
    0.0531739,
    -0.003171506,
    0.053844281,
    -0.023693703,
    0.009405239,
    0.058170952,
    -0.028722825,
    0.010553115,
    -0.023245342,
    -0.007515971,
    -0.004155528,
    -0.058715563,
    -0.005531938,
    0.016953005,
    0.002741316,
    -0.064239696,
    0.007754866,
    0.017597852,
    -0.003533731,
    0.001965651,
    0.025653301,
    0.036340188,
    0.003895673,
    -0.029764675,
    0.00857793,
    -0.011752866,
    -0.012397922,
    0.008416411,
    -0.021581555,
    -0.03761154,
    0.033377748,
    -0.011644593,
    -0.013606143,
    0.002984728,
    -0.003661803,
    -0.001774771,
    0.046287414,
    0.003213638,
    -0.031035673,
    0.003472713,
    0.009698761,
    0.017408865,
    0.013475229,
    -0.043012563,
    -0.038664069,
    -0.01104104,
    0.01307039,
    -0.038184125,
    0.024959045,
    -0.011734648,
    -0.011094425,
    -0.013329745,
    -0.005554723,
    0.011287706,
    0.059722085,
    -0.006977273,
    0.014091661,
    -0.048292194,
    -0.005951225,
    0.046103615,
    0.016774457,
    0.006947808,
    -0.01393017,
    -0.036593519,
    -0.042431708,
    0.002512744,
    -0.022628449,
    -0.039381139,
    -0.02422452,
    -0.008618964,
    0.035121582,
    -0.061265923,
    -0.014105913,
    0.016620426,
    0.039216753,
    0.035284925,
    0.004248409,
    -0.019524207,
    0.01114186,
    -0.005045082,
    0.01199933,
    -0.008158538,
    -0.002302734,
    0.022649068,
    -0.017196842,
    -0.0269632,
    -0.005924376,
    -0.039067205,
    0.015177091,
    -0.052494012,
    -0.01777515,
    -0.004184502,
    0.053890675,
    0.021288749,
    0.013304508,
    0.008165047,
    -0.0200112,
    0.032706056,
    0.025589924,
    0.002652619,
    0.01875848,
    -0.04015176,
    0.004107297,
    0.046337996,
    0.019491749,
    -0.035386849,
    -0.006147891,
    -0.00802794,
    0.050242219,
    0.031685937,
    -0.024444239,
    -0.012391077,
    -0.010194756,
    0.003400391,
    -0.000241471,
    0.012214016,
    0.036108438,
    0.020248521,
    -0.033236895,
    -0.006763263,
    -0.045753818,
    -0.012364033,
    0.056948755,
    0.042419191,
    0.012590326,
    -0.087498076,
    -0.002134601,
    -0.035475262,
    0.031417765,
    -0.021912651,
    -0.009019069,
    -0.002274022,
    -0.012548536,
    -0.007496904,
    -0.02740236,
    0.006656991,
    0.060351048,
    0.022330197,
    -0.037994772,
    0.030350046,
    -0.053466424,
    -0.02662289,
    -0.018872174,
    -0.043749798,
    0.010915048,
    0.011024296,
    0.022833267,
    -0.004215542,
    -0.021239502,
    0.04192777,
    -0.043950565,
    0.011238914,
    0.038949821,
    0.022041818,
    -0.009063746,
    -0.016389722,
    -0.028179731,
    -0.013989838,
    -0.024228845,
    0.017421652,
    -0.017628241,
    0.015680365,
    0.014539913,
    0.037093852,
    -0.00614232,
    0.033955205,
    0.046985,
    0.032804526,
    0.035974152,
    0.022434771,
    -0.047615666,
    -0.020669399,
    0.01414094,
    -0.036463436,
    -0.024927411,
    0.040971965,
    -0.008159696,
    -0.048172537,
    0.037959717,
    0.066121303,
    0.017922526,
    0.060415797,
    -0.010947753,
    0.016339503,
    -0.058570441,
    -0.030934235,
    0.019283656,
    -0.041188624,
    -0.025822833,
    0.00188417,
    -0.019766714,
    0.002203162,
    0.028574305,
    -0.01032319,
    -0.016781196,
    -0.03118635,
    -0.008528024,
    0.002206821,
    -0.035300989,
    0.038002145,
    0.01446175,
    0.042197127,
    -0.016278559,
    -0.020765873,
    -0.039703675,
    0.027899988,
    -0.011657048,
    0.048828833,
    0.052764371,
    0.008295039,
    0.048855197,
    0.004914005,
    0.043808214,
    0.000688592,
    0.016172493,
    0.021129074,
    -0.047009148,
    0.053640164,
    0.007117265,
    0.023140952,
    -0.016112968,
    0.004368139,
    -0.042581663
  ],
  "metadata": {
    "language": "cs",
    "type": "commit_diff"
  },
  "payload": {
    "type": "commit_diff",
    "diff_type": "modified",
    "commit_hash": "266684124654cd11e8611089643cfdb1d41b936e",
    "commit_timestamp": 1754539501,
    "commit_date": "2025-08-06",
    "commit_message": "Complete 7-Phase TxtDb System Transformation\n\nMAJOR ACHIEVEMENTS:\n- Transformed system from ~40-50% to 95-100% pass rate\n- Fixed fundamental data visibility issues with JSON type handling\n- Implemente",
    "author_name": "jsbattig",
    "author_email": "jsbattig@gmail.com",
    "path": "TxtDb.Storage/Services/Async/MonitoredAsyncStorageSubsystem.cs",
    "chunk_index": 2,
    "char_start": 0,
    "char_end": 0,
    "project_id": "txt-db",
    "language": "cs",
    "file_extension": "cs"
  },
  "chunk_text": "chingObjectsAsync(transactionId, namespaceName, pattern, cancellationToken).ConfigureAwait(false);\n             stopwatch.Stop();\n             _metrics.RecordReadOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Track operation of concern if namespace didn't exist before successful operation\n+            if (!namespaceExistedBefore)\n+            {\n+                _metrics.RecordError(\"NonExistentNamespaceAccess\", \n+                    $\"Attempted to query non-existent namespace: {namespaceName}\");\n+            }\n+            \n             return result;\n         }\n         catch (Exception ex)\n         {\n             stopwatch.Stop();\n@@ -186,15 +297,29 @@ public class MonitoredAsyncStorageSubsystem : IDisposable\n     public async Task<string> InsertObjectAsync(long transactionId, string namespaceName, object obj, CancellationToken cancellationToken = default)\n     {\n         var stopwatch = Stopwatch.StartNew();\n         _metrics.IncrementActiveOperations();\n         \n+        // CRITICAL FIX: Check-after-operation approach to eliminate race conditions\n+        bool namespaceExistedBefore = CheckNamespaceExistsWithCaching(namespaceName);\n+        \n         try\n         {\n             var result = await _innerStorage.InsertObjectAsync(transactionId, namespaceName, obj, cancellationToken).ConfigureAwait(false);\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Track operation of concern if namespace was auto-created during successful operation\n+            if (!namespaceExistedBefore)\n+            {\n+                _metrics.RecordError(\"NonExistentNamespaceAccess\", \n+                    $\"Attempted to insert into non-existent namespace (auto-creating): {namespaceName}\");\n+                \n+                // Invalidate cache since namespace was auto-created\n+                InvalidateNamespaceCache(namespaceName);\n+            }\n+            \n             return result;\n         }\n         catch (Exception ex)\n         {\n             stopwatch.Stop();\n@@ -241,10 +366,13 @@ public class MonitoredAsyncStorageSubsystem : IDisposable\n         try\n         {\n             await _innerStorage.CreateNamespaceAsync(transactionId, namespaceName, cancellationToken).ConfigureAwait(false);\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Invalidate cache since namespace was created\n+            InvalidateNamespaceCache(namespaceName);\n         }\n         catch (Exception ex)\n         {\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: false);\n@@ -265,10 +393,13 @@ public class MonitoredAsyncStorageSubsystem : IDisposable\n         try\n         {\n             await _innerStorage.DeleteNamespaceAsync(transactionId, namespaceName, cancellationToken).ConfigureAwait(false);\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Invalidate cache since namespace was deleted\n+            InvalidateNamespaceCache(namespaceName);\n         }\n         catch (Exception ex)\n         {\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: false);\n@@ -289,10 +420,14 @@ public class MonitoredAsyncStorageSubsystem : IDisposable\n         try\n         {\n             await _innerStorage.RenameNamespaceAsync(transactionId, oldName, newName, cancellationToken).ConfigureAwait(false);\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: true);\n+            \n+            // Invalidate cache since both namespaces changed\n+            InvalidateNamespaceCache(oldName);\n+            InvalidateNamespaceCache(newName);\n         }\n         catch (Exception ex)\n         {\n             stopwatch.Stop();\n             _metrics.RecordWriteOperation(stopwatch.Elapsed, success: false);\n@@ -363,15 +498,27 @@ public class MonitoredAsyncStorageSu"
}