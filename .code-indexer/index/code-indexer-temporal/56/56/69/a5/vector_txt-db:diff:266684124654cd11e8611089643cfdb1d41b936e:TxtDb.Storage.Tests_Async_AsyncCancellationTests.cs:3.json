{
  "id": "txt-db:diff:266684124654cd11e8611089643cfdb1d41b936e:TxtDb.Storage.Tests/Async/AsyncCancellationTests.cs:3",
  "vector": [
    0.014335879,
    0.023185121,
    -0.007357817,
    0.048182819,
    -0.021797074,
    0.009306418,
    -0.032300498,
    -0.023413146,
    0.022906076,
    0.031374294,
    0.009383091,
    -0.016096754,
    0.075362332,
    0.013303591,
    -0.061248444,
    -0.01804979,
    0.051490057,
    0.005132769,
    -0.036765065,
    -0.014222787,
    -0.027828654,
    -0.029573176,
    -0.033869483,
    0.109058611,
    -0.038819801,
    -0.011943384,
    0.024140999,
    0.056391127,
    0.007441756,
    0.061794192,
    0.016558819,
    -0.057888098,
    0.01952084,
    0.033723272,
    0.020351967,
    0.017377099,
    0.003794893,
    -0.001997578,
    -0.040294576,
    0.02408364,
    0.03090285,
    0.022785209,
    0.075823747,
    -0.010973057,
    0.020473177,
    -0.047517907,
    0.009642703,
    0.00898908,
    0.016171411,
    0.043978654,
    -0.004444994,
    0.008322087,
    -0.016446095,
    0.055186506,
    -4.28e-06,
    -0.047173064,
    0.094417527,
    0.03082248,
    -0.051143765,
    0.053317487,
    -0.012680365,
    -0.032095052,
    0.025263231,
    0.020990266,
    -0.023946799,
    -0.024344932,
    -0.027087091,
    0.080587544,
    -0.009827003,
    -0.054084819,
    0.005999774,
    0.029058306,
    0.004028661,
    0.050944112,
    0.040320113,
    0.04838315,
    0.067930691,
    0.031345498,
    0.033276562,
    -0.009420604,
    -0.031258076,
    -0.032330237,
    0.002023192,
    -0.019302987,
    0.026556576,
    -0.038953397,
    0.017905505,
    -0.03700323,
    0.029582256,
    0.005444329,
    -0.009054587,
    0.004789846,
    0.008643143,
    0.015864564,
    0.003147443,
    0.02340669,
    -0.00453276,
    0.016688503,
    0.024128618,
    -0.047360871,
    -0.038542632,
    -0.024029249,
    -0.023757638,
    0.050006919,
    -0.063292205,
    0.010662736,
    -0.028042847,
    -0.060560074,
    -0.005098629,
    0.018169219,
    0.003958853,
    0.034475219,
    0.004386244,
    0.024481136,
    0.054519095,
    -0.024079539,
    -0.018422442,
    -0.011776805,
    0.030322399,
    0.049343616,
    0.001421213,
    -0.003321088,
    -0.030522725,
    0.038182542,
    -0.053667217,
    0.021256497,
    0.013858588,
    0.018735522,
    -0.008879556,
    -0.034019198,
    0.02062965,
    -0.001757845,
    0.004929679,
    -0.003877778,
    -0.006551689,
    0.037472218,
    0.053251561,
    0.016020356,
    -0.010958117,
    -0.026517753,
    0.036966875,
    -8.4342e-05,
    0.01143668,
    0.020548176,
    -0.042593639,
    -0.00847641,
    0.054816462,
    -0.015912848,
    0.017665351,
    -0.066963732,
    -0.016359679,
    0.041855115,
    -0.049457174,
    0.037017494,
    0.014320727,
    0.028290436,
    -0.027793625,
    -0.053925496,
    0.0046249,
    -0.037873648,
    -0.037136532,
    0.048998315,
    0.003844729,
    -0.003915141,
    -0.030741224,
    0.041211154,
    0.002928117,
    -0.004792774,
    -0.008212641,
    -0.068310544,
    -0.053592969,
    0.041052356,
    -0.036049873,
    0.003574151,
    0.019305097,
    0.029694196,
    0.042075861,
    0.006846777,
    -0.063382722,
    -0.015268998,
    0.002271993,
    0.016458919,
    -0.020075012,
    0.003368499,
    -0.006649767,
    -0.027661992,
    0.050203133,
    0.011599936,
    0.016947288,
    0.004467173,
    -0.012992563,
    -0.006153452,
    -0.065586731,
    -0.02505493,
    0.009188872,
    -0.014971381,
    -0.028511228,
    -0.015850337,
    0.035974883,
    0.003071586,
    0.006504847,
    0.030102663,
    -0.071739793,
    0.000450338,
    0.01619691,
    0.013714303,
    -0.040249173,
    -0.019250773,
    -0.001562007,
    -0.024480918,
    0.00464486,
    -0.010353478,
    -0.008858016,
    -0.047967836,
    -0.022760188,
    0.011783564,
    -0.040945847,
    0.036378108,
    0.039812438,
    0.000387384,
    0.009761826,
    0.01230691,
    0.041730504,
    0.034048725,
    0.01612219,
    -0.046414819,
    -0.082552098,
    -0.019126387,
    -0.017893016,
    -0.033056494,
    -0.007896227,
    -0.03703659,
    0.028951155,
    -0.035894684,
    -0.046969704,
    0.053016283,
    0.018963207,
    -0.025427053,
    -0.023407534,
    0.006990689,
    -0.024147868,
    0.028023509,
    0.022282239,
    -0.019656714,
    -0.037616357,
    0.014827742,
    0.074198887,
    0.006871615,
    0.025671925,
    -0.013861387,
    -0.094678156,
    0.022705887,
    0.00259034,
    0.062755913,
    0.051562142,
    0.017544942,
    -0.022084342,
    -0.024900977,
    0.002216186,
    0.01634625,
    0.000852161,
    -0.006043197,
    -0.035380416,
    0.023886872,
    -0.012811861,
    0.027186545,
    0.008781048,
    0.007247108,
    -0.060114916,
    0.057065275,
    0.008890518,
    -0.004301724,
    0.024439478,
    -0.018780835,
    0.001112674,
    -0.01822776,
    -0.008317498,
    0.051632319,
    -0.008331123,
    -0.005453508,
    -0.050928026,
    -0.008910662,
    -0.00978087,
    -0.018623771,
    -0.016590994,
    -0.017375031,
    0.03714015,
    0.01028793,
    0.037348423,
    -0.004967763,
    0.003398047,
    -0.028925054,
    -0.016850267,
    -0.021406997,
    0.037904959,
    0.016601363,
    0.034435835,
    -0.010764985,
    0.00061219,
    -0.026031002,
    -0.021810191,
    0.020223456,
    0.050030597,
    0.0032165,
    0.013316157,
    0.008847019,
    0.031412669,
    -0.049995985,
    0.030053573,
    -0.044668116,
    -0.038769204,
    0.024199625,
    0.005577424,
    -0.004639134,
    0.013650227,
    -0.064245738,
    -0.024285825,
    -0.009378833,
    -0.04226223,
    0.000558245,
    0.011741592,
    -0.008565802,
    0.036299102,
    -0.061253671,
    0.002149302,
    0.012457254,
    -0.044626497,
    -0.033912271,
    0.027780147,
    -0.026906842,
    -0.038367212,
    0.033791784,
    0.006972216,
    0.058367938,
    0.008449291,
    0.001445099,
    -0.011085178,
    0.013714089,
    0.007401296,
    0.000315763,
    0.008537282,
    -0.015245148,
    0.006253587,
    -0.025181858,
    0.066783845,
    0.000509056,
    0.006106015,
    -0.042447034,
    -0.018041877,
    0.03903079,
    -0.003177148,
    -0.033730842,
    0.010323827,
    -0.018431727,
    -0.034446616,
    0.033389881,
    -0.023139151,
    -0.006348055,
    0.006462833,
    0.03819086,
    0.007616577,
    0.033143073,
    -0.03126993,
    -0.022298066,
    -0.003291722,
    -0.009339221,
    -0.026813785,
    0.072776608,
    -0.005677304,
    0.035091221,
    -0.026951205,
    -0.084841497,
    -0.061465591,
    0.01461246,
    -0.012604651,
    0.0030405,
    0.005260074,
    -0.013640243,
    0.009026982,
    -0.011925618,
    -0.008436505,
    -0.000309895,
    0.00131823,
    0.019437132,
    0.008408252,
    0.012223843,
    0.022663729,
    0.014569341,
    -0.008699299,
    0.06815429,
    0.014370095,
    0.028342441,
    -0.013278248,
    0.002613533,
    0.012394279,
    -0.030114904,
    -0.011507584,
    0.025422383,
    0.042633548,
    -0.018450053,
    0.046400398,
    -0.018289356,
    0.020119693,
    -0.072056212,
    0.034214705,
    0.001829471,
    0.013796485,
    0.02957258,
    0.012267753,
    0.013939185,
    0.013524666,
    0.052784208,
    -0.006193065,
    -0.00504281,
    -0.018712109,
    0.055840105,
    -0.012644912,
    0.010348464,
    0.007376102,
    -0.0158675,
    0.005930934,
    -0.038771041,
    -0.013490722,
    0.005245273,
    -0.04000942,
    -0.001558442,
    0.000948806,
    -0.095242545,
    -0.037418623,
    -0.008297813,
    0.017783176,
    0.014584315,
    -0.072074801,
    0.016626498,
    0.040193837,
    -0.021861151,
    0.014090875,
    0.000116595,
    -0.002749608,
    -0.018197032,
    -0.014453124,
    -0.026305715,
    0.048518918,
    -0.02276719,
    -0.010684675,
    -0.03580144,
    0.009558085,
    0.037443757,
    -0.017188692,
    -0.015147711,
    -0.054125611,
    -0.016441338,
    -0.058281146,
    0.024785377,
    0.058735915,
    0.00589252,
    -0.039159507,
    0.040141147,
    -0.012379005,
    -0.037723035,
    0.020464795,
    -0.009261716,
    0.007024018,
    -0.002153435,
    0.003911318,
    0.035504583,
    0.036414418,
    -0.07185699,
    -0.027665414,
    0.03109318,
    0.046479695,
    -0.024934234,
    -0.007189177,
    0.064943433,
    0.041199796,
    0.002405243,
    0.020953299,
    0.058389563,
    -0.00619769,
    -0.016013596,
    -0.063821651,
    -0.032741468,
    -0.01607283,
    -0.01608935,
    -0.012493174,
    0.025222272,
    0.017605294,
    0.031636368,
    0.03836643,
    -0.026694123,
    -0.012816356,
    -0.00553875,
    -0.001369103,
    0.000617201,
    0.021516373,
    -0.020900458,
    -0.023517529,
    -0.021305967,
    -0.014879029,
    0.034269728,
    -0.009380169,
    -0.06786669,
    0.023026653,
    0.019555679,
    -0.049971685,
    0.061201856,
    0.002704324,
    -0.010187887,
    -0.078078613,
    0.008068464,
    -0.003447231,
    0.00047467,
    -0.002771374,
    -0.008671427,
    0.011455174,
    -0.075612962,
    -0.029730203,
    0.032394767,
    0.008226383,
    -0.024686553,
    -0.000900981,
    0.007534898,
    -0.038993575,
    -0.058744352,
    0.022689862,
    -0.010167424,
    0.053245861,
    0.006981906,
    0.015073018,
    -0.067846633,
    0.007411808,
    0.00224499,
    -0.00839037,
    -0.014291648,
    -0.012674321,
    0.001689868,
    0.004630026,
    0.003385942,
    7.9876e-05,
    0.009086438,
    -0.022863325,
    0.002160728,
    -0.014582663,
    -0.02553075,
    0.008010935,
    0.016980566,
    0.033078067,
    0.028297922,
    0.000556192,
    -0.013676319,
    -0.01583926,
    0.05357625,
    0.04954531,
    0.061662979,
    -0.044711079,
    0.055514082,
    0.038725894,
    -0.007185467,
    0.042984445,
    0.003851304,
    0.050183911,
    0.023098962,
    -0.01925252,
    0.00803722,
    -0.006836328,
    0.035824958,
    0.008177433,
    0.054238763,
    -0.035797309,
    0.006723575,
    -0.010407178,
    -0.028522432,
    0.049437929,
    0.010315876,
    -0.028254494,
    0.00023799,
    0.02210615,
    -0.041300662,
    -0.037694156,
    -0.010546246,
    0.024789127,
    -0.031735316,
    0.047379214,
    0.0336967,
    -0.037906416,
    -0.045356862,
    0.022311738,
    -0.039302617,
    -0.026370265,
    -0.040710829,
    0.049619343,
    -0.037114091,
    0.015145368,
    -0.050495047,
    0.070978232,
    0.014393743,
    -0.015883313,
    -0.009797822,
    -0.008243127,
    -0.064651482,
    -0.026495464,
    -0.011358188,
    0.042778466,
    0.025816832,
    -0.01015407,
    -0.023549918,
    0.00163592,
    -0.003466082,
    0.060272571,
    0.005764414,
    0.018344998,
    0.035748072,
    0.070951976,
    -0.006648639,
    0.005203392,
    0.03151932,
    0.029108506,
    -0.071455106,
    0.000304104,
    0.029262403,
    0.004814753,
    -0.01411996,
    -0.034074064,
    -0.003974977,
    0.013933919,
    -0.010645539,
    0.022339804,
    -0.003422062,
    -0.007003796,
    0.021199705,
    0.002385495,
    0.023713401,
    -0.091181248,
    -0.00470935,
    0.009551807,
    0.032014839,
    0.04075741,
    -0.005298495,
    -0.007902731,
    -0.00353163,
    -0.023075504,
    -0.009870912,
    0.014953836,
    0.00900233,
    0.019960376,
    0.016463902,
    0.029998884,
    -0.013977842,
    -0.033471636,
    0.033667065,
    0.017307838,
    0.01506265,
    0.073963881,
    0.029129038,
    0.054391649,
    0.014616844,
    -0.010057461,
    -0.046068527,
    -0.027957026,
    -0.024451198,
    -0.007538092,
    -0.036809597,
    -0.037003476,
    0.017087819,
    0.042049278,
    -0.016971126,
    -0.030241629,
    0.03295235,
    -0.047601942,
    -0.025189942,
    -0.007973278,
    0.032119885,
    -0.024741177,
    -0.029457416,
    -0.033214644,
    -0.001499242,
    -0.033794701,
    -0.012521273,
    -0.004228425,
    -0.011477002,
    -0.000259697,
    0.022787403,
    -0.009672055,
    0.003479458,
    -0.040206309,
    -0.02882589,
    -0.028072607,
    0.035172157,
    -0.025650498,
    0.003995754,
    -0.033127364,
    0.019095549,
    0.094167218,
    -0.040050041,
    -0.017726297,
    0.000995157,
    0.005502527,
    0.004521967,
    -0.042653866,
    -0.032685373,
    0.025713,
    0.025657786,
    -0.009007766,
    0.030157687,
    0.009233864,
    -0.052977264,
    0.005099478,
    -0.027847433,
    0.077733614,
    0.012187993,
    -0.015016053,
    -0.028167918,
    0.000895401,
    -0.01554228,
    -0.037057612,
    -0.025618769,
    -0.047238905,
    -0.091480307,
    0.004356753,
    0.009921078,
    0.004913349,
    0.00215707,
    -0.045088731,
    0.003754709,
    0.033483449,
    -0.004231089,
    -0.027678145,
    -0.033694044,
    0.055152595,
    -0.02472931,
    0.010362077,
    0.030291149,
    0.043341782,
    0.02002381,
    -0.036325656,
    0.003169864,
    -0.047286432,
    0.000505122,
    -0.027290849,
    -0.018845012,
    0.027891731,
    0.012522773,
    -0.023518126,
    -0.013388363,
    -0.012511864,
    0.006542492,
    -0.010095925,
    0.02778779,
    -0.017194489,
    -0.049803179,
    -0.052728236,
    -0.026318718,
    -0.010138263,
    -0.00809501,
    0.04760221,
    -0.039501354,
    -0.036891848,
    0.045340348,
    -0.007756061,
    0.038701426,
    -0.050770909,
    0.020824004,
    0.020351909,
    -0.03931684,
    -0.026882987,
    -0.039660893,
    -0.005087105,
    -0.007219192,
    -0.053054485,
    0.001968694,
    -0.010604279,
    -0.001225293,
    -0.006491121,
    0.036366798,
    -0.014244501,
    -0.056796353,
    0.034135293,
    -0.016656773,
    0.011513638,
    -0.006106352,
    -0.010622957,
    0.003724295,
    -0.009780935,
    -0.013774278,
    -0.025344482,
    0.007529057,
    0.000164095,
    0.050973292,
    -0.02739468,
    -0.075876079,
    0.044109061,
    0.016380956,
    -0.030087551,
    0.020449148,
    0.021825166,
    0.036229905,
    -0.06035202,
    -0.065838203,
    0.019122381,
    0.015783018,
    -0.045084782,
    0.026097987,
    0.014225962,
    0.04427769,
    -0.0431251,
    0.016125197,
    0.068751022,
    -0.041233577,
    0.058378879,
    -0.028793087,
    -0.00973147,
    -0.002742194,
    -0.042203359,
    0.003935942,
    0.009308581,
    -0.016731894,
    -0.069256648,
    0.029674625,
    0.003523706,
    -0.012821979,
    0.05164694,
    0.010045389,
    0.031192087,
    0.056916215,
    -0.037493911,
    -0.01054082,
    -0.008025104,
    0.006890495,
    0.019394085,
    0.019587815,
    -0.064974077,
    0.00617946,
    -0.012250221,
    -0.033877034,
    0.035060104,
    -0.029960934,
    -0.039439917,
    0.018624919,
    0.005686152,
    -0.040384632,
    0.039204586,
    0.033531066,
    0.021014385,
    -0.002884141,
    -0.020591773,
    -0.025028832,
    -0.00342686,
    0.006165039,
    -0.022125099,
    0.034696635,
    -0.00978282,
    0.009367712,
    0.001777446,
    0.004088096,
    -0.006166284,
    0.052521635,
    0.006140938,
    0.010034421,
    -0.049052026,
    0.012666478,
    0.048552759,
    0.029440431,
    0.000266612,
    -0.026556874,
    -0.004763217,
    -0.054763999,
    -0.009557333,
    -0.041385267,
    -0.037408873,
    -0.016544828,
    -0.026854025,
    0.032979414,
    -0.060537651,
    -0.01989191,
    0.007432385,
    0.028356746,
    0.050480086,
    -0.002063591,
    -0.008252615,
    0.027754271,
    0.000694233,
    0.025332125,
    -0.005034221,
    -0.00306576,
    0.008979209,
    -0.010905189,
    -0.034190543,
    -0.013717027,
    -0.025202433,
    -0.020332819,
    -0.060739078,
    -0.040802058,
    -0.009664887,
    0.030873641,
    -0.006684507,
    0.015102857,
    0.030304929,
    -0.007509179,
    -0.012287001,
    0.029446404,
    -0.003904232,
    0.019652639,
    -0.054057583,
    0.019801134,
    0.010809048,
    -0.002324156,
    -0.009272968,
    0.020278584,
    -0.006907456,
    0.05829161,
    0.046408951,
    -0.0106113,
    0.019091768,
    -0.039655522,
    -0.002865505,
    -0.013690375,
    0.013122409,
    0.035255287,
    0.009686499,
    -0.041844051,
    -0.014270798,
    -0.043956358,
    -0.016886057,
    0.027281022,
    0.006282357,
    0.01355716,
    -0.071036197,
    -0.020820195,
    -0.012985433,
    0.023168566,
    -0.0136257,
    -0.007407987,
    -0.005784709,
    0.014360006,
    0.00216436,
    0.001186584,
    -0.021878842,
    0.028267492,
    0.002412732,
    -0.039557584,
    0.018940151,
    -0.02531945,
    -0.036467548,
    -0.012745644,
    -0.018035172,
    0.029188095,
    -0.020174926,
    0.00104416,
    0.025861975,
    -0.037360534,
    -0.021523902,
    -0.038340937,
    0.01845024,
    0.022541422,
    0.04720724,
    -0.025489757,
    -0.010452158,
    -0.016755395,
    -0.054977443,
    0.008581885,
    0.029042199,
    -0.003592505,
    0.039280452,
    -0.000641735,
    0.038541146,
    0.010609716,
    0.047145721,
    0.03080653,
    0.011012408,
    0.029605009,
    0.011234684,
    0.003659829,
    -0.038238376,
    0.029522413,
    -0.033454441,
    -0.005874545,
    0.025565078,
    0.00133758,
    -0.039348293,
    0.036364455,
    -0.000182701,
    -0.011117802,
    0.047274675,
    -0.028709209,
    0.020154452,
    -0.046723258,
    -0.051925763,
    0.024443466,
    -0.056458157,
    -0.032057874,
    -0.001379421,
    0.026895761,
    -0.010982817,
    0.036203787,
    -0.013914651,
    0.029020917,
    -0.003872841,
    -0.027247963,
    0.010247281,
    -0.036912799,
    0.051398765,
    0.038897488,
    0.032929339,
    0.017802434,
    -0.019133331,
    -0.054293685,
    0.012341974,
    -0.020556429,
    0.079094559,
    0.03462249,
    -0.012029494,
    0.042288873,
    0.008913954,
    0.009424586,
    0.021252915,
    -0.014409149,
    0.01204164,
    -0.004543005,
    0.046900559,
    0.009897167,
    0.041017629,
    -0.036784418,
    -0.000253121,
    -0.052310087
  ],
  "metadata": {
    "language": "cs",
    "type": "commit_diff"
  },
  "payload": {
    "type": "commit_diff",
    "diff_type": "modified",
    "commit_hash": "266684124654cd11e8611089643cfdb1d41b936e",
    "commit_timestamp": 1754539501,
    "commit_date": "2025-08-06",
    "commit_message": "Complete 7-Phase TxtDb System Transformation\n\nMAJOR ACHIEVEMENTS:\n- Transformed system from ~40-50% to 95-100% pass rate\n- Fixed fundamental data visibility issues with JSON type handling\n- Implemente",
    "author_name": "jsbattig",
    "author_email": "jsbattig@gmail.com",
    "path": "TxtDb.Storage.Tests/Async/AsyncCancellationTests.cs",
    "chunk_index": 3,
    "char_start": 0,
    "char_end": 0,
    "project_id": "txt-db",
    "language": "cs",
    "file_extension": "cs"
  },
  "chunk_text": "ew CancellationTokenSource(TimeSpan.FromMilliseconds(200));\n \n         // Act & Assert - Complex operation that should be cancelled at various points\n-        await Assert.ThrowsAsync<OperationCanceledException>(async () =>\n+        await Assert.ThrowsAnyAsync<OperationCanceledException>(async () =>\n         {\n             var txn = await _asyncStorage.BeginTransactionAsync(cts.Token);\n             \n             // Create namespace\n             await _asyncStorage.CreateNamespaceAsync(txn, \"test.nested.cancel\", cts.Token);\n@@ -301,10 +321,11 @@ public class AsyncCancellationTests : IDisposable\n                 Interlocked.Increment(ref successfulOperations);\n                 return \"success\";\n             }\n             catch (OperationCanceledException)\n             {\n+                // Both OperationCanceledException and TaskCanceledException are acceptable\n                 Interlocked.Increment(ref cancelledOperations);\n                 return \"cancelled\";\n             }\n         });\n \n@@ -334,12 +355,12 @@ public class AsyncCancellationTests : IDisposable\n         // Arrange\n         await _asyncStorage.InitializeAsync(_testRootPath);\n         using var cts = new CancellationTokenSource();\n         cts.Cancel(); // Cancel immediately\n \n-        // Act & Assert\n-        await Assert.ThrowsAsync<OperationCanceledException>(async () =>\n+        // Act & Assert - Accept both cancellation exception types\n+        await Assert.ThrowsAnyAsync<OperationCanceledException>(async () =>\n             await _asyncStorage.StartVersionCleanupAsync(1, cts.Token));\n     }\n \n     public void Dispose()\n     {"
}