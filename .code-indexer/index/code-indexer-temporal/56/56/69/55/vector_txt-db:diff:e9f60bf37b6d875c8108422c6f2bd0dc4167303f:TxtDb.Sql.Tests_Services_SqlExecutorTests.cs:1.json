{
  "id": "txt-db:diff:e9f60bf37b6d875c8108422c6f2bd0dc4167303f:TxtDb.Sql.Tests/Services/SqlExecutorTests.cs:1",
  "vector": [
    0.021426931,
    -0.0159941,
    0.010367986,
    0.074648418,
    -0.002395741,
    -0.010796309,
    -0.03343628,
    0.002582684,
    0.000767452,
    0.011789176,
    -0.015356377,
    -0.012565068,
    0.046994425,
    -0.045733564,
    -0.075810999,
    -0.029223645,
    0.027107712,
    0.002607253,
    -0.021007869,
    -0.01314738,
    -0.054275192,
    -0.031990744,
    -0.042804074,
    0.092558876,
    -0.006260267,
    0.029800568,
    0.023779899,
    0.036934603,
    -0.003885418,
    0.054587066,
    -0.013820448,
    -0.033486601,
    0.02999945,
    0.008656405,
    0.020440057,
    0.032805346,
    -0.03124921,
    -0.060896318,
    -0.02811729,
    0.001931588,
    0.071204543,
    0.008805584,
    0.052024379,
    -0.021232553,
    -0.021674918,
    -0.054149292,
    0.058789354,
    -0.006697359,
    -0.010328988,
    0.01752875,
    -0.034683067,
    -0.033177681,
    -0.022721067,
    0.064803623,
    0.016765229,
    -0.002170774,
    0.109113432,
    0.015659392,
    -0.053818312,
    0.020490812,
    -0.035495598,
    -0.014685131,
    -0.001701262,
    -0.002936555,
    -0.036885727,
    -0.050665479,
    -0.013898654,
    0.072118014,
    0.006246645,
    -0.049020361,
    0.001677278,
    0.017966125,
    0.01513729,
    0.048543938,
    0.015992248,
    0.04232635,
    0.001297981,
    0.043036494,
    0.024503736,
    0.010825965,
    -0.059592616,
    -0.057318643,
    -0.017931994,
    0.000432676,
    0.020417577,
    -0.050564006,
    0.042539593,
    -0.054577027,
    0.022843536,
    0.016140765,
    -0.009572574,
    0.048556402,
    0.021876402,
    0.025094816,
    -0.012478922,
    -0.002604965,
    0.028067088,
    0.004670137,
    0.009361896,
    -0.035426192,
    -0.032622449,
    -0.018332228,
    -0.025974613,
    0.05424922,
    -0.031157449,
    0.006442742,
    -0.048742499,
    -0.027517507,
    -0.024025731,
    0.027542906,
    -0.015747668,
    0.03411581,
    0.011112906,
    0.045618404,
    0.02806513,
    -0.018058384,
    -0.035862759,
    -0.040473215,
    0.03224029,
    -0.02689754,
    0.016258499,
    0.040810511,
    -0.039053593,
    0.020322576,
    -0.020385964,
    0.037766863,
    0.016298685,
    0.053795867,
    0.02039095,
    -0.014093572,
    -0.039693967,
    0.019779021,
    -0.056856293,
    0.010519303,
    0.025882106,
    0.077425964,
    0.046128493,
    0.022567099,
    -0.02003433,
    -0.041487753,
    0.055784635,
    -0.008918507,
    0.044804331,
    0.008006085,
    -0.024317622,
    0.010300912,
    0.027337383,
    -0.014445232,
    0.001966712,
    -0.050451476,
    -0.013200832,
    0.047479652,
    -0.039696041,
    0.047170315,
    0.010882598,
    0.013686562,
    -0.045054853,
    -0.055236962,
    0.022671932,
    -0.032142211,
    -0.043877993,
    0.033071458,
    0.028673122,
    0.006692551,
    -0.016648922,
    0.060238086,
    0.003733,
    0.006857209,
    0.003170659,
    -0.014741219,
    -0.037605796,
    0.042110398,
    -0.038819011,
    0.00386547,
    0.001264474,
    0.034742016,
    0.034662262,
    0.010967746,
    -0.071665481,
    -0.023388593,
    0.000857548,
    -0.01100366,
    0.014105938,
    -0.021370066,
    -0.000833056,
    0.000500379,
    0.04201911,
    0.064864807,
    0.042682022,
    0.020814953,
    -0.002474076,
    -0.049828406,
    -0.036634579,
    0.005492607,
    0.034905933,
    -0.066187203,
    0.000491395,
    0.021718977,
    0.004508376,
    0.016019752,
    -0.012763837,
    0.033699486,
    -0.045661755,
    -0.004224207,
    0.000750757,
    0.027901653,
    -0.05333735,
    -0.015242636,
    -0.01568302,
    0.04210766,
    0.000513916,
    -0.046196967,
    -0.014922975,
    0.016036024,
    0.022704428,
    0.001581918,
    -0.012467409,
    0.006578773,
    0.046149071,
    -0.027832629,
    0.010946435,
    0.003188457,
    0.021021675,
    0.021097178,
    -0.020113237,
    -0.028278215,
    -0.062767319,
    -0.036645629,
    -0.025478877,
    -0.006137322,
    0.009389875,
    -0.020636901,
    0.022946186,
    -0.037307058,
    -0.061325412,
    0.004102441,
    0.02454647,
    0.003328724,
    -0.000396262,
    -0.002966676,
    -0.053372592,
    -0.008085997,
    0.023700332,
    -0.042160671,
    -0.043236863,
    0.049311545,
    0.060534429,
    -0.000271364,
    0.024078935,
    -0.022658281,
    -0.026550185,
    0.040246602,
    -0.022027848,
    0.039798573,
    0.035764504,
    -0.006810088,
    0.03504058,
    -0.015127762,
    0.010584816,
    0.019103428,
    0.02950093,
    0.003886336,
    -0.031383138,
    -0.012054433,
    0.000687726,
    0.037587158,
    -0.006905812,
    0.023765938,
    -0.008785331,
    0.017328542,
    0.042494781,
    -0.014490978,
    0.033230886,
    -0.043118045,
    0.014478798,
    -0.009939818,
    -0.00644494,
    0.004624219,
    0.02954624,
    -0.014949249,
    -0.063289993,
    -0.016071264,
    -0.017723775,
    -0.01650456,
    -0.037197262,
    0.005146585,
    0.030531362,
    -0.027105361,
    0.011393853,
    0.037024751,
    0.010082387,
    -0.028966893,
    0.029428687,
    -0.006771177,
    0.026550815,
    0.027190359,
    0.008673578,
    -0.006692274,
    0.007885221,
    -0.003321258,
    -0.050926026,
    0.007698905,
    0.058700074,
    0.026442349,
    0.014578797,
    0.009938278,
    0.063202433,
    -0.034408197,
    0.03269881,
    0.020922933,
    -0.055685021,
    0.004714092,
    -0.005418226,
    0.018430674,
    0.019029465,
    -0.046722163,
    -0.024545413,
    0.006369855,
    -0.040813182,
    -0.005515914,
    0.010986792,
    -0.02432926,
    0.063787915,
    -0.014744378,
    -0.030214595,
    -0.018356506,
    -0.037010588,
    -0.013210969,
    0.074360698,
    -0.054174572,
    -0.044262543,
    0.009694809,
    0.017636862,
    0.040226597,
    -0.02282171,
    -0.007856254,
    -0.000900202,
    0.036972307,
    -0.0211812,
    0.004597436,
    0.015714874,
    0.013276718,
    0.021676285,
    -0.045725495,
    0.06066392,
    0.026113791,
    -0.007033237,
    0.001663867,
    -0.043773346,
    0.045507818,
    0.006589613,
    -0.07476709,
    -0.024831599,
    -0.029434506,
    -0.039056644,
    0.014559654,
    -0.031102622,
    -0.027317623,
    -0.014095571,
    0.026631813,
    0.033351686,
    0.017029036,
    -0.028314553,
    -0.050573301,
    0.010445495,
    -0.019109815,
    -0.047951467,
    0.047959808,
    0.009180517,
    -0.002078617,
    -0.018970275,
    -0.081123717,
    -0.026650438,
    -0.003291623,
    -0.016306931,
    0.024085222,
    0.03369537,
    -0.012551827,
    -0.021902923,
    -0.02006788,
    -0.004977792,
    -0.011280954,
    -0.009205197,
    0.020085931,
    -0.026841575,
    0.003957294,
    -0.007716923,
    -0.008524172,
    -0.038181387,
    0.058965199,
    -0.013395755,
    0.064722762,
    0.02235741,
    0.0122088,
    -0.016595811,
    -0.038555723,
    -0.031261586,
    0.009506286,
    0.007871667,
    -0.007053287,
    -0.003873529,
    -0.027028525,
    0.049280986,
    -0.051859751,
    0.030410908,
    -0.000614004,
    0.046022989,
    0.004456367,
    0.024670972,
    0.047023758,
    0.034607723,
    0.026485804,
    0.028302338,
    -0.008236646,
    -0.009394699,
    0.019816499,
    0.019156871,
    -0.015661376,
    -0.009883431,
    0.000685376,
    0.057038587,
    -0.0357855,
    -0.023386396,
    -0.009201593,
    -0.034063868,
    -0.008291505,
    -0.01920775,
    -0.129447266,
    -0.038758438,
    -0.008780703,
    0.005643645,
    0.003513756,
    -0.087453552,
    0.024705457,
    0.015724877,
    -0.06404309,
    0.01290798,
    0.025072128,
    -0.013130059,
    -0.035154227,
    -0.006375717,
    -0.038654536,
    0.02534136,
    0.009426981,
    -0.031143555,
    -0.030421557,
    0.014222173,
    0.007635987,
    -0.050300103,
    -0.05827203,
    -0.045120049,
    0.018526025,
    -0.021994352,
    -0.006812682,
    0.055040952,
    -0.004172693,
    0.001743463,
    0.045758132,
    -0.029734556,
    -0.002536798,
    0.005825984,
    -0.000874808,
    0.007981165,
    -0.004383182,
    -0.043762363,
    0.039722852,
    0.016801182,
    -0.041766521,
    0.035396609,
    0.015023193,
    0.03099449,
    -0.048407719,
    -0.02117575,
    0.02671727,
    0.035045769,
    0.014532876,
    0.01447983,
    0.068357095,
    -0.022381652,
    -0.020171789,
    -0.039410051,
    -0.045146465,
    -0.038413346,
    -0.078236267,
    0.001118465,
    0.015775137,
    0.003403293,
    0.005741505,
    0.033880886,
    -0.006569284,
    -0.028468538,
    0.009625074,
    0.010648357,
    0.043186706,
    -0.009981748,
    0.040456284,
    -0.034136232,
    -0.014469865,
    -0.030458035,
    0.029232997,
    0.028570093,
    -0.051364519,
    0.008570434,
    0.01324097,
    -0.03077049,
    0.05708304,
    0.010833495,
    -0.017343065,
    -0.094612144,
    0.009712662,
    -0.034941256,
    -0.002175899,
    -0.032135136,
    -0.023046417,
    -0.030184479,
    -0.066138938,
    -0.023530893,
    -0.018048886,
    -0.011316321,
    -0.014578084,
    0.009638457,
    0.001813473,
    -0.03979123,
    -0.018048715,
    0.032620214,
    0.057326585,
    0.026634064,
    0.009319672,
    -0.031928759,
    -0.048116297,
    0.003938968,
    0.023570053,
    -0.013742118,
    -0.039830331,
    0.014470693,
    0.00838901,
    0.037604194,
    -0.01847484,
    -0.043168306,
    -0.021353684,
    0.024462804,
    0.020900611,
    -0.01765359,
    -0.041112728,
    0.034052532,
    0.021706702,
    -0.034741122,
    0.038410727,
    0.000369926,
    -0.03030636,
    -0.01449227,
    0.024670191,
    0.065504573,
    0.030188443,
    -0.037813414,
    0.03581002,
    0.009879686,
    0.020035863,
    0.011935974,
    0.021106934,
    -0.017326439,
    0.054302689,
    -0.013171405,
    -0.00699856,
    0.008269072,
    0.030486153,
    -0.002647001,
    0.025291136,
    -0.047008656,
    -0.015550846,
    0.013938062,
    -0.034992728,
    0.00422638,
    0.012001678,
    0.033052493,
    0.053248204,
    0.021248359,
    -0.061451256,
    -0.001975058,
    0.019031666,
    0.027717715,
    -0.017662218,
    0.029496808,
    0.003765285,
    -0.03382406,
    -0.055330168,
    0.043593738,
    -0.00550594,
    -0.030491229,
    0.008369505,
    0.024225138,
    -0.020743696,
    -0.000123174,
    -0.04870376,
    0.063091092,
    0.010854559,
    -0.043446872,
    -0.003950479,
    0.018717371,
    -0.040574469,
    -0.016872065,
    0.035305988,
    0.004022214,
    -0.013843668,
    0.009867385,
    -0.034775443,
    0.006443736,
    0.008514597,
    0.040485024,
    0.039371174,
    -0.001757254,
    0.0387078,
    0.056844249,
    -0.005883027,
    0.032271672,
    0.015775884,
    0.034768984,
    -0.073604576,
    0.004236397,
    0.01900235,
    -0.001248368,
    -0.05387193,
    -0.048491817,
    -0.012938498,
    0.005127561,
    -0.006108243,
    0.051300284,
    -0.021331051,
    0.016638206,
    -0.031760264,
    0.001987122,
    -0.01325169,
    -0.03665825,
    -0.011736032,
    -0.002263248,
    0.026071079,
    0.023156084,
    0.004959459,
    -0.011623901,
    0.011444867,
    -0.017970873,
    -0.016048681,
    0.027125349,
    -0.019828709,
    0.020541972,
    0.000240769,
    0.032693401,
    -0.03529669,
    -0.017336968,
    0.056845907,
    0.057781078,
    0.001227691,
    0.074910976,
    0.040989116,
    0.03093146,
    0.009990982,
    0.005744448,
    -0.001853685,
    0.005855186,
    -0.013929128,
    -0.027282616,
    -0.028238053,
    -0.04370277,
    0.025143391,
    0.049737368,
    -0.025724594,
    -0.017834088,
    0.020814234,
    -0.006640815,
    -0.042975884,
    0.008625976,
    -0.028644117,
    -0.007779081,
    -0.00607494,
    -0.039725065,
    -0.008971245,
    -0.013828242,
    -0.016946359,
    -0.012890782,
    -0.005941467,
    0.001377955,
    0.023904614,
    -0.035331115,
    0.017896423,
    -0.046490647,
    0.001990773,
    -0.045318998,
    0.015317119,
    -0.023304231,
    -0.002130894,
    -0.01667694,
    -0.007536021,
    0.086798258,
    -0.018078964,
    -0.028230142,
    0.000290728,
    0.003287028,
    0.00294477,
    -0.036854561,
    -0.023055019,
    0.046039455,
    0.029655486,
    -0.007743194,
    -0.011414238,
    -0.005482166,
    -0.029942781,
    0.024671011,
    -0.019189628,
    0.067195594,
    0.023544382,
    -0.008204163,
    -0.034062281,
    -0.035512388,
    -0.017321046,
    -0.019936027,
    0.002132206,
    -0.06411995,
    -0.04744263,
    -0.013472241,
    0.00305987,
    0.020868169,
    -0.001556806,
    -0.067952938,
    -0.005948025,
    0.018647498,
    0.012596795,
    -0.012547581,
    -0.002513287,
    0.061304808,
    -0.007655753,
    -0.038746346,
    0.05215073,
    0.009512411,
    -0.009250296,
    -0.053975787,
    0.002639833,
    -0.036033232,
    0.033629008,
    -0.061458081,
    0.044569284,
    0.010751,
    0.014223251,
    -0.005868606,
    0.009600705,
    0.01830134,
    -0.035048898,
    -0.01006393,
    0.043235283,
    -0.055009529,
    -0.032415461,
    0.021485185,
    -0.002674292,
    0.007570531,
    -0.029764337,
    0.043859515,
    0.013603655,
    -0.008436646,
    0.027918475,
    0.013416065,
    0.034108441,
    -0.01059419,
    -0.004058325,
    0.001174465,
    -0.02912491,
    -0.05004904,
    -0.042097665,
    -0.008157224,
    -0.008865351,
    -0.028008595,
    0.01863146,
    -0.055082351,
    -0.021263296,
    -0.002405892,
    0.005841868,
    -0.030187942,
    -0.058083557,
    0.030490849,
    -0.019860953,
    -0.007700086,
    -0.030333923,
    -0.001545205,
    0.004591032,
    0.016326385,
    -0.021383619,
    -0.011445024,
    0.024432827,
    0.027229629,
    0.023343233,
    -0.039058566,
    -0.059492338,
    0.002013569,
    0.018572066,
    -0.032837514,
    -0.002747893,
    0.064099059,
    0.043463986,
    -0.012634957,
    -0.003308549,
    0.064710036,
    8.6692e-05,
    -0.016023457,
    0.048371963,
    0.011812852,
    0.05444083,
    -0.009558288,
    0.020360643,
    0.054875188,
    -0.020326296,
    0.044950254,
    -0.047283798,
    -0.003209011,
    -0.002013348,
    -0.033230957,
    -0.021704493,
    0.048271444,
    -0.037847359,
    -0.092194535,
    0.026195602,
    -0.032547884,
    0.005527618,
    -0.014949384,
    0.004087652,
    0.013176811,
    0.045629077,
    -0.021625523,
    -0.041594807,
    -0.03567097,
    -0.010716599,
    0.00592327,
    0.021406922,
    -0.014874092,
    0.026899248,
    -0.004708986,
    -0.022692373,
    0.026164751,
    -0.027148632,
    -0.005368324,
    0.025225669,
    -0.041639298,
    -0.0163467,
    0.026994338,
    0.022274109,
    0.019619796,
    0.020278797,
    -0.03833897,
    -0.025974127,
    -0.022261562,
    -0.013644353,
    0.006987023,
    0.000390665,
    -0.023748811,
    -0.008103256,
    0.000366223,
    -0.015808526,
    -0.003069373,
    0.01965539,
    0.015774231,
    0.009220359,
    -0.066617534,
    0.011732848,
    0.048892844,
    0.010940538,
    0.013852828,
    -0.002402572,
    0.012559168,
    -0.024105355,
    -0.013986823,
    -0.048842352,
    -0.062608093,
    -0.012757478,
    0.041042354,
    0.046696164,
    -0.025544083,
    -0.028368976,
    0.003312432,
    0.010543651,
    0.026927795,
    0.010440326,
    -0.023325361,
    0.052585538,
    0.006965129,
    0.017918326,
    0.012242536,
    0.009464141,
    -0.012424069,
    -0.017566904,
    -0.028490692,
    -0.01128253,
    -0.015305666,
    -0.008291118,
    -0.038869012,
    -0.028065171,
    0.00560778,
    0.009091627,
    0.029352333,
    -0.026954105,
    0.040856149,
    -0.006777257,
    0.00925993,
    0.026568042,
    -0.0238056,
    0.044507649,
    -0.031748384,
    0.046032932,
    -0.006862842,
    -0.005190195,
    0.003420318,
    0.023663929,
    0.015722366,
    0.074441314,
    0.060512558,
    0.021723354,
    -0.017457131,
    -0.045681506,
    0.009573494,
    -0.00995881,
    0.012543733,
    0.028577367,
    -0.002482636,
    -0.017871073,
    -0.041464243,
    -0.035148095,
    -0.010327624,
    0.02515015,
    0.018286439,
    -0.030318609,
    -0.032076433,
    -0.009557665,
    -0.002882912,
    0.037097964,
    -0.013150921,
    -0.036199246,
    -0.02328518,
    0.021816062,
    0.021080187,
    -0.002323282,
    -0.000969916,
    0.050006956,
    0.018806066,
    -0.062276855,
    0.006134207,
    -0.021118948,
    -0.027799226,
    -0.008212993,
    -0.043298114,
    0.070876375,
    -0.009259129,
    0.019048706,
    -0.023287665,
    -0.036646806,
    -0.011977249,
    0.015818644,
    0.024725024,
    0.010342283,
    0.031591997,
    -0.019346837,
    0.012144708,
    -0.007174752,
    -0.024981024,
    0.013957442,
    0.03632658,
    -0.001158845,
    0.016939797,
    0.001911715,
    0.053976752,
    -0.011295717,
    -0.001768652,
    0.046855398,
    0.007223837,
    0.049310405,
    0.021276116,
    -5.4066e-05,
    -0.047996532,
    0.019741964,
    -0.02799109,
    -0.034098946,
    0.051731754,
    0.014179721,
    -0.059254069,
    0.006666181,
    0.000134992,
    -0.002250002,
    0.018421538,
    -0.007203952,
    -0.011193726,
    -0.020432901,
    -0.039733876,
    0.048926082,
    -0.010439711,
    -0.0231601,
    0.002423982,
    0.020778989,
    0.049567632,
    0.000324177,
    -0.012853775,
    0.031375453,
    -0.024116257,
    -0.022897962,
    0.000618477,
    -0.016380701,
    0.045280583,
    0.040820669,
    0.033883695,
    0.020845821,
    -0.025180768,
    -0.01745948,
    0.016865138,
    -0.000281176,
    0.055865567,
    0.011647794,
    -0.00311416,
    0.038779173,
    -0.021321598,
    0.046893701,
    0.019029554,
    0.01012603,
    0.024086624,
    0.00966781,
    0.045393251,
    0.02013709,
    0.003232973,
    -0.03896812,
    0.021352101,
    -0.06680534
  ],
  "metadata": {
    "language": "cs",
    "type": "commit_diff"
  },
  "payload": {
    "type": "commit_diff",
    "diff_type": "modified",
    "commit_hash": "e9f60bf37b6d875c8108422c6f2bd0dc4167303f",
    "commit_timestamp": 1754659383,
    "commit_date": "2025-08-08",
    "commit_message": "Phase 5: Complete SQL INDEX operations and comprehensive testing\n\nMajor additions:\n- Full CREATE INDEX/DROP INDEX functionality with metadata persistence\n- Comprehensive SQL executor test suite coveri",
    "author_name": "jsbattig",
    "author_email": "jsbattig@gmail.com",
    "path": "TxtDb.Sql.Tests/Services/SqlExecutorTests.cs",
    "chunk_index": 1,
    "char_start": 0,
    "char_end": 0,
    "project_id": "txt-db",
    "language": "cs",
    "file_extension": "cs"
  },
  "chunk_text": "();\n+        var executor = new SqlExecutor(database, _logger);\n+        \n+        // Setup: Create table and first index\n+        await executor.ExecuteAsync(\"CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(100), age INT)\", transaction);\n+        await executor.ExecuteAsync(\"CREATE INDEX idx_users_name ON users (name)\", transaction);\n+        await transaction.CommitAsync();\n+        \n+        // Start new transaction for second CREATE INDEX with same name\n+        var indexTransaction = await CreateRealTransaction();\n+        var sql = \"CREATE INDEX idx_users_name ON users (age)\"; // Same index name, different column\n+        \n+        // Act & Assert\n+        var exception = await Assert.ThrowsAsync<SqlExecutionException>(async () =>\n+            await executor.ExecuteAsync(sql, indexTransaction));\n+        \n+        Assert.Contains(\"index\", exception.Message.ToLower());\n+        Assert.Contains(\"already exists\", exception.Message.ToLower());\n+    }\n+    \n+    // ================================\n+    // DROP INDEX OPERATION TESTS (Story 3)\n+    // ================================\n+    \n+    /// <summary>\n+    /// Test that DROP INDEX statement can remove a secondary index from a table.\n+    /// This is the primary functionality for DROP INDEX in Story 3.\n+    /// </summary>\n+    [Fact]\n+    public async Task ExecuteAsync_WithDropIndexSql_ShouldDropSecondaryIndex()\n+    {\n+        // Arrange\n+        var database = await CreateRealDatabase();\n+        var transaction = await CreateRealTransaction();\n+        var executor = new SqlExecutor(database, _logger);\n+        \n+        // Setup: Create table and index first\n+        await executor.ExecuteAsync(\"CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(100), age INT)\", transaction);\n+        await executor.ExecuteAsync(\"CREATE INDEX idx_users_age ON users (age)\", transaction);\n+        await transaction.CommitAsync();\n+        \n+        // Start new transaction for DROP INDEX\n+        var dropTransaction = await CreateRealTransaction();\n+        var dropIndexSql = \"DROP INDEX idx_users_age\";\n+        \n+        // Act\n+        var result = await executor.ExecuteAsync(dropIndexSql, dropTransaction);\n+        \n+        // Assert\n+        Assert.NotNull(result);\n+        Assert.Equal(SqlStatementType.DropIndex, result.StatementType);\n+        Assert.Equal(0, result.AffectedRows); // DROP INDEX doesn't affect rows\n+        Assert.Empty(result.Rows);\n+        \n+        // Verify index was actually dropped\n+        await dropTransaction.CommitAsync();\n+        var verifyTxn = await CreateRealTransaction();\n+        var table = await database.GetTableAsync(\"users\");\n+        Assert.NotNull(table);\n+        \n+        // Verify index no longer exists using ListIndexesAsync\n+        var indexes = await table!.ListIndexesAsync(verifyTxn);\n+        Assert.DoesNotContain(\"idx_users_age\", indexes);\n+        \n+        await verifyTxn.CommitAsync();\n+    }\n+    \n+    /// <summary>\n+    /// Test DROP INDEX with non-existent index name returns success (idempotent operation).\n+    /// </summary>\n+    [Fact]\n+    public async Task ExecuteAsync_WithDropIndexNonExistentIndex_ShouldReturnSuccessResult()\n+    {\n+        // Arrange\n+        var database = await CreateRealDatabase();\n+        var transaction = await CreateRealTransaction();\n+        var executor = new SqlExecutor(database, _logger);\n+        \n+        // Setup: Create table without any indexes\n+        await executor.ExecuteAsync(\"CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(100))\", transaction);\n+        await transaction.CommitAsync();\n+        \n+        // Start new transaction for DROP INDEX\n+        var dropTransaction = await CreateRealTransaction();\n+        var sql = \"DROP INDEX idx_nonexistent\";\n+        \n+        // Act\n+        var result = await executor.ExecuteAsync(sql, dropTransaction);\n+        \n+        // Assert\n+        Assert.NotNull(result);\n+        Assert.Equal(SqlStatementType.DropIndex, result.StatementType);\n+        Assert.Equal(0, result.AffectedRows); // No index to drop\n+        Asser"
}