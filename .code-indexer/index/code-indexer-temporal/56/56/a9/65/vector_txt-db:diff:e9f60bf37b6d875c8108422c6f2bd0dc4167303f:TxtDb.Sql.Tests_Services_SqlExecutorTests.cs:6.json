{
  "id": "txt-db:diff:e9f60bf37b6d875c8108422c6f2bd0dc4167303f:TxtDb.Sql.Tests/Services/SqlExecutorTests.cs:6",
  "vector": [
    0.023964413,
    -0.017171547,
    0.006467292,
    0.083764039,
    -0.004163699,
    -0.006767918,
    -0.004809701,
    -0.003094146,
    0.008588165,
    -0.006221777,
    -0.007692826,
    0.017478287,
    0.038636025,
    -0.034153003,
    -0.073731393,
    -0.033878326,
    0.025440909,
    0.003838878,
    -0.011761297,
    -0.035996944,
    -0.046489578,
    -0.024444854,
    -0.05086226,
    0.062748984,
    -0.024918534,
    0.031502195,
    0.019964596,
    0.0258187,
    0.006946477,
    0.060238302,
    0.025865795,
    -0.012479503,
    0.026189692,
    0.017967077,
    0.012475126,
    0.019098742,
    -0.044424336,
    -0.054566566,
    -0.030909045,
    0.009886594,
    0.049318701,
    -0.018238386,
    0.048086695,
    -0.03323783,
    -0.027455004,
    -0.057310857,
    0.069676593,
    0.009017937,
    0.010844195,
    0.00509393,
    -0.034799069,
    -0.00133615,
    0.010847431,
    0.063983828,
    0.030239848,
    -0.003138184,
    0.091208614,
    -0.000839769,
    -0.070897885,
    0.029485956,
    -0.049652647,
    -0.037496712,
    0.017781723,
    -0.007524983,
    0.001144202,
    -0.055688616,
    0.013476092,
    0.07989575,
    0.049593903,
    -0.059037473,
    0.012308105,
    0.032680355,
    0.012647712,
    0.048298232,
    0.013258984,
    0.036410153,
    0.012310362,
    0.037240911,
    0.021800417,
    0.02519596,
    -0.058580965,
    -0.053937379,
    -0.025175938,
    -0.007234429,
    0.033935964,
    -0.043223102,
    0.024236415,
    -0.057677042,
    0.038232293,
    0.005334673,
    -0.016282395,
    0.053552952,
    0.003817756,
    0.051530756,
    0.011693462,
    -0.01590129,
    0.027658377,
    -0.016621664,
    0.008368921,
    -0.043016113,
    -0.029810542,
    0.007566651,
    -0.038274221,
    0.052229624,
    -0.039972063,
    0.009271191,
    -0.032396421,
    -0.029775962,
    -0.031301428,
    0.028489862,
    -0.007780342,
    0.015890688,
    0.020317975,
    0.022503024,
    0.019338788,
    0.012063846,
    -0.016266311,
    -0.03734906,
    0.054452725,
    -0.011961555,
    0.008843159,
    0.033041831,
    -0.01830514,
    0.018997489,
    -0.006991398,
    0.040977649,
    0.006516386,
    0.041750856,
    0.004166047,
    -0.017632073,
    -0.048070971,
    0.022483239,
    -0.04182937,
    0.013884665,
    0.009245875,
    0.05424352,
    0.045824971,
    0.028978171,
    -0.022895418,
    -0.058847744,
    0.067374192,
    -0.003197371,
    0.0528901,
    -0.00389605,
    -0.009713692,
    0.025456741,
    0.038533561,
    -0.010275729,
    0.029230148,
    -0.022564055,
    -0.010355403,
    0.041007839,
    -0.042974465,
    0.045754034,
    0.011268898,
    0.011217622,
    -0.056538381,
    -0.070588827,
    0.010755237,
    -0.032833993,
    -0.036621749,
    0.034318823,
    0.023452871,
    0.002341644,
    -0.035433814,
    0.066636771,
    0.000201426,
    0.012898502,
    0.005638524,
    -0.029700058,
    -0.054586213,
    0.018133838,
    -0.069899447,
    0.013834359,
    -0.015456107,
    0.034422264,
    0.028182089,
    0.020079626,
    -0.068223678,
    -0.026428839,
    -0.024595382,
    0.012216849,
    -0.000711684,
    -0.001820289,
    0.010384593,
    0.001034219,
    0.048371337,
    0.073522873,
    0.041336514,
    0.024875607,
    0.005702336,
    -0.037076041,
    -0.039098158,
    -0.016009383,
    0.045846444,
    -0.058392394,
    0.013873621,
    0.028089473,
    0.020659842,
    -0.011266964,
    -0.000793755,
    0.01529257,
    -0.028959865,
    -0.024288163,
    -0.010780958,
    0.026020482,
    -0.050667394,
    -0.029676069,
    0.004199581,
    0.026505809,
    0.002204157,
    -0.054190986,
    0.001066314,
    0.024095718,
    0.019174488,
    -0.008953661,
    -0.033106897,
    -0.01600714,
    0.048998799,
    -0.031793937,
    0.022793986,
    -0.00564068,
    0.012491905,
    0.016393717,
    -0.024948539,
    -0.03545209,
    -0.018445615,
    -0.036276396,
    -0.019902844,
    0.007261195,
    0.009748253,
    0.009749773,
    0.014824718,
    -0.031422134,
    -0.060902122,
    -0.004549039,
    0.036723815,
    0.000984848,
    -0.006630472,
    0.016015545,
    -0.063993558,
    0.000678148,
    0.038320821,
    -0.060005099,
    -0.036550879,
    0.019439431,
    0.055578958,
    -0.019311666,
    0.02286898,
    -0.009655328,
    -0.027095094,
    0.039472777,
    -0.015347406,
    0.046354055,
    0.058290657,
    0.003960452,
    0.05406335,
    -0.006943609,
    0.025349785,
    0.029353116,
    0.01219455,
    0.017856495,
    -0.036378168,
    0.006211639,
    -0.016058225,
    0.030272545,
    -0.016258962,
    0.024996288,
    -0.032891352,
    0.040146429,
    0.022430409,
    -0.019638244,
    0.032600161,
    -0.03665413,
    0.014567463,
    0.011052051,
    0.002773726,
    0.005601711,
    0.022279415,
    -0.026212612,
    -0.062503919,
    0.010435353,
    -0.016573103,
    -0.026026152,
    -0.049142018,
    -0.010307383,
    0.005695809,
    -0.015133457,
    -0.000409778,
    0.057666548,
    0.024808155,
    -0.008376994,
    0.032416984,
    -0.000267544,
    0.031850226,
    0.022042941,
    7.9579e-05,
    -0.01032595,
    0.038714338,
    0.004898104,
    -0.036290243,
    0.015773956,
    0.025855303,
    0.018585304,
    0.036123965,
    -0.016742798,
    0.051851023,
    -0.027840694,
    0.019956473,
    0.016936399,
    -0.065659098,
    0.032364402,
    0.007605895,
    0.034496233,
    0.023448663,
    -0.034509793,
    -0.033517852,
    -0.005844635,
    -0.038418457,
    0.001832372,
    0.007021673,
    -0.01685214,
    0.048199471,
    -0.021790698,
    0.005097738,
    -0.025116587,
    -0.039723031,
    0.015340435,
    0.06390585,
    -0.055586088,
    -0.027983282,
    0.021630326,
    0.012678526,
    0.052487101,
    -0.018334618,
    0.002634846,
    -0.004755768,
    0.029560046,
    -0.038807556,
    0.003366654,
    -0.006134531,
    0.010564904,
    0.013774538,
    -0.038236625,
    0.062330715,
    -0.001730921,
    -0.027071903,
    0.007571313,
    -0.020577451,
    0.06175616,
    0.004479602,
    -0.063764282,
    -0.021960096,
    -0.017771717,
    -0.031058533,
    0.004325329,
    -0.009767585,
    -0.011793736,
    -0.007647193,
    0.032249458,
    0.034616448,
    0.008817567,
    -0.055369817,
    -0.040333617,
    0.011598821,
    -0.023040134,
    -0.054772872,
    0.055078782,
    0.008000663,
    0.016572451,
    -0.020456102,
    -0.062759519,
    -0.025431879,
    0.00597421,
    -0.012533786,
    -0.002181616,
    0.034276508,
    0.002542384,
    -0.018554142,
    -0.005734466,
    -0.002035321,
    -0.03225119,
    0.018917063,
    -0.009469066,
    -0.02589646,
    0.007083524,
    -0.007608683,
    -0.014376058,
    -0.027233493,
    0.062272694,
    -0.025532499,
    0.037309445,
    -0.010641509,
    -0.003065732,
    -0.017597642,
    -0.02507172,
    -0.034898464,
    0.026135353,
    0.002519035,
    -0.020300878,
    0.006437778,
    -0.019148396,
    0.017428167,
    -0.035839681,
    0.03322307,
    0.001569774,
    0.036329761,
    -0.00809126,
    0.015683115,
    0.03687872,
    0.016610263,
    0.049445473,
    -0.000775892,
    -0.007105574,
    -0.02553747,
    0.02096149,
    -0.00219366,
    -0.016083959,
    -0.012861823,
    0.013458282,
    0.043182582,
    -0.044294972,
    -0.002427208,
    -0.005503807,
    -0.017402595,
    -0.005423888,
    -0.014303933,
    -0.131231084,
    -0.048643094,
    -0.013637093,
    0.033992726,
    0.020023357,
    -0.080346137,
    0.023481265,
    0.02164931,
    -0.043274015,
    0.015579307,
    0.010105578,
    -0.002131393,
    -0.017962692,
    -0.018720761,
    -0.025105402,
    0.007270631,
    0.014278,
    -0.034769379,
    -0.033529978,
    0.025203936,
    0.006142996,
    -0.047962446,
    -0.049403451,
    -0.061239038,
    0.031019127,
    -0.016560223,
    -0.007792897,
    0.070060812,
    -0.004661276,
    0.007072843,
    0.053405926,
    -0.008665718,
    -0.028594885,
    0.007821149,
    -0.003820553,
    0.004178536,
    0.009575022,
    -0.040585317,
    0.015218453,
    0.002979145,
    -0.015221056,
    0.008570386,
    0.001625195,
    0.034130603,
    -0.023922369,
    -0.031126667,
    0.034944866,
    0.06359084,
    0.031022998,
    0.008936715,
    0.049358446,
    -0.032053109,
    -0.046899743,
    -0.060408581,
    -0.036529329,
    -0.0351578,
    -0.059274361,
    0.005713796,
    0.014227745,
    -0.016453244,
    0.010993793,
    0.05309822,
    -0.005114876,
    -0.019980362,
    0.025793483,
    0.004831381,
    0.026880255,
    0.011043557,
    0.035221286,
    -0.039773282,
    -0.032580558,
    -0.021415168,
    0.035480451,
    0.029523287,
    -0.064722739,
    -0.00248171,
    0.023206042,
    -0.005447794,
    0.056185801,
    0.01460827,
    -0.026755551,
    -0.11282701,
    0.015301718,
    -0.015606971,
    0.003217497,
    -0.031315178,
    -0.019326264,
    -0.029964115,
    -0.049805339,
    -0.031915575,
    -0.019605104,
    -0.00559327,
    -0.030140396,
    -0.002705641,
    -0.000257392,
    -0.020486774,
    -0.021960601,
    0.027304593,
    0.044504594,
    0.016905816,
    0.024082256,
    -0.049324818,
    -0.047700278,
    0.028791049,
    0.006517547,
    -0.023528785,
    -0.045698486,
    -0.001957354,
    -0.0080846,
    0.020415036,
    0.009921516,
    -0.06168709,
    -0.018077157,
    0.015670808,
    0.021956323,
    -0.030576324,
    -0.032295018,
    0.028937429,
    0.047836784,
    -0.022154447,
    0.030616779,
    -0.004324501,
    -0.037034091,
    -0.03166014,
    0.017163694,
    0.04326639,
    0.021604503,
    -0.024339814,
    0.019974956,
    0.017487122,
    0.016462032,
    0.043473464,
    0.025684416,
    -0.030838622,
    0.048152369,
    0.014552399,
    0.008648821,
    -0.012122138,
    0.029782718,
    0.018610125,
    0.010208741,
    -0.049861845,
    -0.015281127,
    -0.001434595,
    -0.014931205,
    -0.003722099,
    0.003477758,
    0.037658513,
    0.04707377,
    0.01205755,
    -0.065038539,
    -0.010895585,
    0.037904285,
    0.021261809,
    0.011501293,
    0.044278145,
    -0.005132668,
    -0.024556646,
    -0.054380819,
    0.048758056,
    -0.004558054,
    -0.035300657,
    -0.002368246,
    0.020935215,
    -0.040251624,
    0.010282419,
    -0.060403056,
    0.062746756,
    -0.00223208,
    -0.025845794,
    -0.00692107,
    -0.002993086,
    -0.032457359,
    -0.009871718,
    0.041359469,
    0.016159937,
    -0.005074513,
    0.011423507,
    -0.047897369,
    -0.013653374,
    0.002044654,
    0.04408678,
    0.055626526,
    -0.013354082,
    0.035867169,
    0.053642511,
    -0.00984187,
    0.029491384,
    0.022646228,
    0.033239946,
    -0.066767298,
    0.010099307,
    0.033699036,
    -0.009798387,
    -0.025551684,
    -0.035968091,
    -0.011881855,
    0.018585246,
    -0.007784836,
    0.04495465,
    -0.016557438,
    0.020437488,
    -0.018044049,
    -0.002821808,
    -0.010194551,
    -0.038043458,
    -0.001873505,
    -0.005957753,
    0.032530285,
    0.036912575,
    0.006306449,
    -0.023590263,
    0.016210372,
    -0.011424229,
    -0.022907186,
    0.026176715,
    -0.005714139,
    0.040583141,
    -0.000285,
    0.021800563,
    -0.056537479,
    -0.032587245,
    0.059325911,
    0.056701761,
    -0.006392709,
    0.081298977,
    0.054982174,
    0.040363584,
    0.015395561,
    0.011678589,
    0.012849283,
    0.026484011,
    -0.010415816,
    0.003733478,
    -0.032206379,
    -0.029131586,
    -0.00326562,
    0.056823738,
    -0.040299464,
    0.001812351,
    0.035620894,
    -0.008622009,
    -0.017146358,
    0.016433232,
    -0.003411029,
    -0.007941487,
    -0.007591774,
    -0.048030809,
    -0.014805669,
    -0.00727813,
    0.01461685,
    -0.022396391,
    -0.03070558,
    0.008991161,
    0.020153096,
    -0.04210281,
    0.01462541,
    -0.044326637,
    0.003312846,
    -0.031054292,
    0.049551588,
    -0.020475104,
    -1.8041e-05,
    -0.00198595,
    -0.003167153,
    0.092624962,
    0.00667706,
    -0.035087425,
    0.002532199,
    0.006957192,
    0.009393136,
    -0.030176787,
    -0.016848031,
    0.053205062,
    0.020387776,
    -0.005496185,
    -0.003703298,
    -0.013904846,
    -0.014392171,
    0.032049574,
    -0.015114603,
    0.082216285,
    0.038315028,
    -0.029052608,
    -0.037901942,
    -0.002864556,
    -0.008529756,
    -0.018779129,
    -0.005387598,
    -0.06550283,
    -0.028807195,
    -0.012075203,
    0.00205841,
    0.016532054,
    -0.005355145,
    -0.049730893,
    -0.032875154,
    0.012685681,
    0.016107175,
    0.000296641,
    -0.023814706,
    0.061768472,
    -0.019284295,
    -0.031723063,
    0.054783966,
    0.004051796,
    -0.001373412,
    -0.035541553,
    0.005165592,
    -0.019468592,
    0.041432742,
    -0.050468128,
    0.040683776,
    0.011275421,
    0.026554251,
    -0.021210978,
    -0.003722662,
    0.024688877,
    -0.026888149,
    -0.009526601,
    0.048065513,
    -0.047199607,
    -0.024380229,
    0.029147206,
    -0.012435786,
    0.002075496,
    -0.02060901,
    0.05439676,
    0.028645331,
    -0.024467979,
    0.041731745,
    -0.007280949,
    0.029227206,
    -0.001752887,
    -0.012095341,
    0.010816125,
    -0.019007394,
    -0.051349729,
    -0.02696237,
    -0.01591487,
    0.004476285,
    -0.042235862,
    0.029381566,
    -0.044834197,
    -0.015312769,
    -0.007427147,
    0.01668863,
    -0.037615109,
    -0.046368688,
    0.043638662,
    -0.014402867,
    -0.028729511,
    -0.01724132,
    -0.018009912,
    -0.00074496,
    0.017654216,
    -0.035944328,
    -0.013065974,
    0.034220889,
    0.018329848,
    0.012412323,
    -0.030354973,
    -0.066815257,
    0.02331409,
    -0.002228423,
    -0.041482911,
    0.005684876,
    0.07611233,
    0.046312083,
    -0.017376,
    -0.015584241,
    0.041379951,
    -0.009039938,
    -0.011933658,
    0.036317308,
    0.011704621,
    0.045345336,
    -0.013916641,
    0.010610075,
    0.070659354,
    -0.017373072,
    0.038452111,
    -0.03458593,
    -0.005702761,
    0.023801172,
    -0.039079469,
    -0.024287514,
    0.032779567,
    -0.017226169,
    -0.09079282,
    0.0259523,
    -0.04017451,
    -0.001122495,
    -0.020317698,
    0.012017223,
    0.006870996,
    0.036716212,
    -0.020545088,
    -0.036697973,
    -0.032453611,
    -0.008479195,
    0.000333087,
    0.022864157,
    -0.03227089,
    0.01850234,
    -0.019851111,
    -0.013935525,
    0.020794213,
    -0.015820038,
    -0.019167738,
    0.028239023,
    -0.030266576,
    -0.015838606,
    0.005589849,
    0.029176226,
    0.034565881,
    0.008887597,
    -0.051374968,
    -0.020137809,
    0.003255473,
    -0.024147928,
    0.027991716,
    0.013795123,
    -0.023772046,
    -0.019704856,
    -0.002342701,
    -0.028352927,
    -0.003817025,
    0.031811971,
    0.010948949,
    0.026431728,
    -0.043606952,
    -0.011284593,
    0.040841766,
    0.014604495,
    0.001400991,
    -0.005706493,
    0.001309814,
    -0.017791519,
    -0.025906684,
    -0.045149166,
    -0.070318885,
    -0.007706597,
    0.028474914,
    0.040987518,
    -0.03125643,
    -0.025226614,
    0.006912304,
    0.000290293,
    0.026649388,
    0.009041642,
    -0.037319731,
    0.057001226,
    0.022496989,
    0.020665679,
    0.011005926,
    0.009581996,
    -0.002478041,
    -0.014366002,
    -0.023586882,
    -0.026410751,
    -0.011536084,
    0.010244498,
    -0.055050608,
    -0.011273926,
    0.02075577,
    0.009085619,
    0.006156163,
    -0.01574195,
    0.035112757,
    0.011139173,
    0.004664759,
    0.041344512,
    -0.035350785,
    0.050624039,
    -0.026261788,
    0.039943233,
    -0.0339268,
    -0.012679197,
    -0.007054297,
    0.031144258,
    0.035123195,
    0.086128637,
    0.049255565,
    0.014777987,
    0.003233331,
    -0.036862597,
    0.002163762,
    -0.014833008,
    0.047047209,
    0.013670916,
    0.006876239,
    -0.02759354,
    0.006612493,
    -0.054902945,
    -0.015613646,
    0.031368006,
    0.002023905,
    -0.024398202,
    -0.020846399,
    0.006949795,
    -0.009616873,
    0.012324024,
    -0.022178,
    -0.028853063,
    -0.028179193,
    0.020123655,
    0.009847102,
    -0.015898252,
    -0.016260616,
    0.052564938,
    0.028665591,
    -0.052981477,
    0.013472068,
    -0.015623692,
    -0.028959537,
    -0.025774337,
    -0.048713312,
    0.055365115,
    -0.002960277,
    0.025717948,
    -0.017451771,
    -0.033232417,
    -0.023396563,
    -0.003442049,
    0.043366153,
    0.003898689,
    0.038633332,
    -0.010786294,
    -0.009393545,
    -0.018294193,
    -0.023153398,
    -0.013514997,
    0.0115866,
    0.002549804,
    0.022239098,
    0.015832344,
    0.032058507,
    -0.01048156,
    0.0023331,
    0.04198714,
    -0.001829644,
    0.034151502,
    0.034527928,
    -0.024151755,
    -0.038149696,
    0.026634684,
    -0.034138158,
    -0.007720736,
    0.049559273,
    -0.007390378,
    -0.061550532,
    -0.007910984,
    -0.01974516,
    0.03058386,
    0.022074217,
    -0.022542229,
    0.001707184,
    -0.032895152,
    -0.022222994,
    0.044838659,
    -0.016642692,
    -0.028636089,
    -0.001985497,
    0.018688494,
    0.021747939,
    0.005782328,
    -0.016749494,
    0.001886828,
    -0.04385015,
    -0.007111775,
    0.015280928,
    -0.025596425,
    0.034463603,
    0.030990686,
    0.057520144,
    0.014557354,
    -0.019662308,
    -0.022215165,
    -0.007798204,
    0.010111321,
    0.088128947,
    0.03537596,
    0.002868139,
    0.045324508,
    -0.006184396,
    0.041787576,
    0.018068437,
    0.019719427,
    0.006648139,
    -0.001836912,
    0.026025895,
    0.02266435,
    0.001042526,
    -0.027133394,
    0.011543036,
    -0.064680375
  ],
  "metadata": {
    "language": "cs",
    "type": "commit_diff"
  },
  "payload": {
    "type": "commit_diff",
    "diff_type": "modified",
    "commit_hash": "e9f60bf37b6d875c8108422c6f2bd0dc4167303f",
    "commit_timestamp": 1754659383,
    "commit_date": "2025-08-08",
    "commit_message": "Phase 5: Complete SQL INDEX operations and comprehensive testing\n\nMajor additions:\n- Full CREATE INDEX/DROP INDEX functionality with metadata persistence\n- Comprehensive SQL executor test suite coveri",
    "author_name": "jsbattig",
    "author_email": "jsbattig@gmail.com",
    "path": "TxtDb.Sql.Tests/Services/SqlExecutorTests.cs",
    "chunk_index": 6,
    "char_start": 0,
    "char_end": 0,
    "project_id": "txt-db",
    "language": "cs",
    "file_extension": "cs"
  },
  "chunk_text": "       var exception = await Assert.ThrowsAsync<SqlExecutionException>(async () =>\n+            await executor.ExecuteAsync(sql, transaction));\n+        \n+        Assert.Contains(\"table\", exception.Message.ToLower());\n+        Assert.Contains(\"not found\", exception.Message.ToLower());\n+    }\n+    \n+    /// <summary>\n+    /// Test that USE INDEX works correctly with complex WHERE clauses involving multiple conditions.\n+    /// FAILING TEST - Story 4 not yet implemented.\n+    /// </summary>\n+    [Fact]\n+    public async Task ExecuteAsync_WithUseIndexAndComplexWhere_ShouldFilterCorrectly()\n+    {\n+        // Arrange\n+        var database = await CreateRealDatabase();\n+        var setupTxn = await CreateRealTransaction();\n+        var executor = new SqlExecutor(database, _logger);\n+        \n+        // Setup: Create table with test data\n+        await executor.ExecuteAsync(\"CREATE TABLE users (id INT PRIMARY KEY, name VARCHAR(100), age INT, status VARCHAR(20))\", setupTxn);\n+        await executor.ExecuteAsync(\"INSERT INTO users (id, name, age, status) VALUES (1, 'Alice', 25, 'active')\", setupTxn);\n+        await executor.ExecuteAsync(\"INSERT INTO users (id, name, age, status) VALUES (2, 'Bob', 25, 'inactive')\", setupTxn);\n+        await executor.ExecuteAsync(\"INSERT INTO users (id, name, age, status) VALUES (3, 'Charlie', 30, 'active')\", setupTxn);\n+        await executor.ExecuteAsync(\"INSERT INTO users (id, name, age, status) VALUES (4, 'David', 25, 'active')\", setupTxn);\n+        \n+        // Create index on age column\n+        await executor.ExecuteAsync(\"CREATE INDEX idx_users_age ON users (age)\", setupTxn);\n+        await setupTxn.CommitAsync();\n+        \n+        // Start new transaction for USE INDEX SELECT with complex WHERE\n+        var selectTxn = await CreateRealTransaction();\n+        var selectSql = \"SELECT * FROM users USE INDEX (idx_users_age) WHERE age = 25 AND status = 'active'\";\n+        \n+        // Act\n+        var result = await executor.ExecuteAsync(selectSql, selectTxn);\n+        \n+        // Assert\n+        Assert.NotNull(result);\n+        Assert.Equal(SqlStatementType.Select, result.StatementType);\n+        Assert.Equal(2, result.Rows.Count); // Alice and David (age 25, status active)\n+        \n+        // Verify correct data returned\n+        var row1 = result.Rows[0];\n+        var row2 = result.Rows[1];\n+        \n+        // Both should have age 25 and status active\n+        // Find the name column index\n+        var nameColumnIndex = -1;\n+        for (int i = 0; i < result.Columns.Count; i++)\n+        {\n+            if (result.Columns[i].Name == \"name\")\n+            {\n+                nameColumnIndex = i;\n+                break;\n+            }\n+        }\n+        \n+        Assert.True(nameColumnIndex >= 0, \"Name column should be found\");\n+        \n+        var names = new[] { row1[nameColumnIndex]?.ToString(), row2[nameColumnIndex]?.ToString() };\n+        Assert.Contains(\"Alice\", names);\n+        Assert.Contains(\"David\", names);\n+        \n+        await selectTxn.CommitAsync();\n+    }\n+    \n+    /// <summary>\n+    /// Test that USE INDEX provides performance improvement over full table scan.\n+    /// This test should demonstrate measurable performance benefits.\n+    /// FAILING TEST - Story 4 not yet implemented.\n+    /// </summary>\n+    [Fact]\n+    public async Task ExecuteAsync_WithUseIndexVsFullTableScan_ShouldShowPerformanceImprovement()\n+    {\n+        // Arrange\n+        var database = await CreateRealDatabase();\n+        var setupTxn = await CreateRealTransaction();\n+        var executor = new SqlExecutor(database, _logger);\n+        \n+        // Setup: Create table with more test data for performance testing\n+        await executor.ExecuteAsync(\"CREATE TABLE large_users (id INT PRIMARY KEY, name VARCHAR(100), age INT, status VARCHAR(20))\", setupTxn);\n+        \n+        // Insert a larger dataset for performance comparison\n+        for (int i = 1; i <= 100; i++)\n+        {\n+            var name = $\"User{i}\";\n+            var age = 20 + (i % 40); // Ages from 20-59\n+            var status = "
}