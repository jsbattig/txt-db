{
  "id": "txt-db:diff:266684124654cd11e8611089643cfdb1d41b936e:TxtDb.Storage.Tests/Async/AsyncObjectOperationsTests.cs:0",
  "vector": [
    -0.019992039,
    0.011327091,
    -0.004622063,
    0.044520713,
    0.00189852,
    -0.00234037,
    -0.0211556,
    -0.013111007,
    0.030676529,
    0.009502742,
    0.036018606,
    0.005844274,
    0.05884086,
    0.012007904,
    -0.082402237,
    -0.031973012,
    0.01007159,
    0.009652184,
    -0.026306914,
    0.013040328,
    -0.027698638,
    -0.041462906,
    -0.059513129,
    0.07373444,
    -0.047022589,
    -0.022951066,
    0.026634336,
    0.03629832,
    -0.016987704,
    0.065902509,
    -0.000860489,
    -0.072364792,
    0.001970833,
    0.032394677,
    0.026421921,
    -0.021754678,
    -0.044011764,
    -0.012195357,
    -0.029043611,
    0.026336502,
    0.032140218,
    -0.033943892,
    0.036588501,
    -0.033138763,
    0.014492629,
    -0.044832096,
    0.014656086,
    0.024427276,
    -0.008251668,
    0.032424893,
    -0.033522673,
    0.00961803,
    -0.017347459,
    0.045266658,
    0.025474451,
    -0.043668933,
    0.072417706,
    0.034338877,
    -0.042020597,
    0.059405915,
    -0.024545243,
    -0.010446473,
    0.014057431,
    0.011301085,
    -0.005560876,
    -0.039661735,
    -0.030625291,
    0.072094306,
    0.03271373,
    -0.061972879,
    0.010044758,
    0.03722826,
    -0.008290595,
    0.037348378,
    0.015319191,
    0.029229185,
    0.06325008,
    0.023493716,
    0.039238486,
    -0.000257123,
    -0.054002609,
    -0.040897168,
    -0.006882073,
    -0.040778168,
    0.024010388,
    -0.027841024,
    0.03711953,
    -0.044046924,
    -0.00894442,
    -0.0195708,
    -0.00961401,
    0.038796093,
    0.018125696,
    0.02202048,
    0.040340133,
    0.022498894,
    0.020903131,
    -0.009681381,
    0.032793611,
    -0.023109496,
    -0.033964645,
    0.023826485,
    -0.03235748,
    0.049262051,
    -0.056352485,
    0.006867932,
    0.008833776,
    -0.042200845,
    0.017162219,
    -0.001769775,
    0.050109521,
    0.00766703,
    0.02718531,
    0.003516757,
    0.019856576,
    0.011959521,
    -0.012855911,
    -0.030329684,
    0.046759509,
    0.060460091,
    -0.010023731,
    -0.002987549,
    -0.028586866,
    0.058149334,
    -0.060716059,
    0.021609206,
    -0.00713375,
    0.025070755,
    -0.012346402,
    -0.03662977,
    -0.015475963,
    -0.026951348,
    0.036671937,
    0.007745276,
    0.016100025,
    0.052271113,
    0.013988971,
    0.053806361,
    -0.018631509,
    -0.026519962,
    0.040109571,
    -0.00847848,
    0.014689322,
    0.022877365,
    -0.024396589,
    -0.007209612,
    0.057279874,
    -0.009275809,
    0.002171119,
    -0.066964298,
    0.007486254,
    0.052714851,
    -0.041146737,
    0.050397679,
    0.024225673,
    0.02723936,
    -0.006986643,
    -0.034171417,
    0.000534609,
    -0.036476761,
    -0.056530103,
    0.040206715,
    0.043818772,
    -0.005720487,
    -0.037311789,
    0.057973824,
    -0.01030137,
    0.009895981,
    -0.008038923,
    -0.015640603,
    -0.069982782,
    0.012946836,
    -0.030808916,
    -0.022021333,
    -0.047419749,
    -0.006306593,
    0.036812771,
    0.009141833,
    -0.082338236,
    -0.064460553,
    0.00815546,
    0.031397704,
    -0.019060263,
    0.007077904,
    -0.011631615,
    -0.015022771,
    0.023660118,
    0.032168031,
    0.026014177,
    0.001959624,
    -0.009508769,
    0.023924964,
    -0.040032476,
    -0.02699005,
    0.004056542,
    -0.017979031,
    0.006566484,
    -0.002233697,
    0.046036996,
    0.022789387,
    0.00553266,
    0.031907793,
    -0.054416243,
    0.001161696,
    0.030839577,
    0.001954782,
    -0.041593246,
    -0.037840184,
    0.02092685,
    0.000582777,
    0.012770095,
    -0.035953861,
    0.021589203,
    -0.025055904,
    -0.003008557,
    0.002825266,
    -0.048489437,
    0.029512433,
    0.059044972,
    -0.003250394,
    0.009054167,
    -0.008707638,
    0.049998395,
    0.027853757,
    -0.019188315,
    -0.012649508,
    -0.060790855,
    -0.053118762,
    -0.021667048,
    -0.014322899,
    -0.019974884,
    -0.050821964,
    0.012444426,
    -0.031531882,
    -0.079897054,
    0.042387802,
    0.026957599,
    -0.015826354,
    -0.007340253,
    0.014812612,
    -0.00709072,
    0.038336031,
    0.009803554,
    -0.013187743,
    -0.023958104,
    0.009211793,
    0.054418419,
    0.008270191,
    0.00621815,
    -0.017970989,
    -0.053370908,
    0.043375243,
    -0.026129147,
    0.066184819,
    0.040514391,
    0.034781124,
    -0.001517351,
    -0.005679154,
    0.037332628,
    -0.004865464,
    -0.005144286,
    -0.011513597,
    -0.051178943,
    0.021658354,
    -0.005845777,
    0.024316804,
    -0.010879479,
    -0.012485625,
    -0.01736002,
    0.061437055,
    0.034332912,
    0.016049003,
    0.041397262,
    0.012327026,
    -0.00444019,
    -0.035934217,
    0.010817264,
    0.04761618,
    0.003491739,
    0.012262265,
    -0.073981702,
    -0.009556068,
    0.010074676,
    -0.015087217,
    -0.009802797,
    -0.027112978,
    0.062184349,
    -0.018736765,
    0.062355246,
    0.026118882,
    0.031578343,
    -0.020253513,
    -0.024796987,
    -0.022359934,
    0.051292889,
    0.010933711,
    0.025144113,
    -0.01692917,
    0.002923216,
    -0.035381377,
    -0.008777197,
    -0.001974593,
    0.055791009,
    0.005280891,
    0.021165881,
    0.023611475,
    0.050590895,
    -0.031690102,
    0.009257659,
    -0.014182811,
    -0.071109101,
    0.003305979,
    0.020091444,
    -0.003510043,
    0.018916246,
    -0.047415361,
    -0.009570787,
    -0.008644663,
    -0.040168393,
    0.014496594,
    0.008876441,
    -0.007897194,
    0.026642529,
    -0.057481039,
    0.01489099,
    0.01461962,
    -0.073823132,
    -0.003675333,
    0.069705002,
    -0.050935213,
    -0.036571287,
    0.027035784,
    -0.007313938,
    0.04076485,
    -0.021124279,
    0.013265995,
    -0.0216791,
    0.010654544,
    -0.034132849,
    -0.011154121,
    0.00583682,
    -0.026597515,
    0.019569905,
    -0.041598514,
    0.079298489,
    -0.027272675,
    -2.2554e-05,
    -0.024287464,
    -0.02337046,
    0.04182433,
    -0.003386163,
    -0.045549426,
    -0.004064229,
    -0.022614207,
    -0.04861166,
    0.049009748,
    -0.011006521,
    0.000155436,
    0.010789713,
    0.045148745,
    0.024091002,
    0.031119199,
    -0.067039728,
    -0.018610289,
    -0.01991016,
    -0.015871944,
    -0.026759058,
    0.059322055,
    -0.024703288,
    0.000683058,
    -0.064752869,
    -0.049112093,
    -0.046596624,
    0.011224982,
    -0.019046031,
    0.008329199,
    0.008011937,
    -0.001123307,
    -0.0122077,
    0.000569979,
    0.01413065,
    0.008261137,
    0.012395788,
    -0.005448623,
    0.001927826,
    -0.021015747,
    -0.00923892,
    0.008913295,
    0.001846232,
    0.062971488,
    -0.022661388,
    0.028866841,
    -0.004996114,
    -0.003799529,
    -0.015061608,
    -0.019382995,
    -0.000677453,
    0.039419778,
    0.019637305,
    -0.040387947,
    0.017344149,
    -0.006390135,
    0.03517003,
    -0.049618687,
    0.034915417,
    0.026085248,
    0.028582666,
    0.045929063,
    -0.005394036,
    0.017808791,
    -0.016493484,
    0.044714946,
    -0.007576311,
    0.025227282,
    -0.042934395,
    0.055727091,
    -0.010335789,
    0.001920436,
    0.006498797,
    -0.006074512,
    0.013433473,
    -0.036378052,
    0.016045909,
    0.010653996,
    -0.041390635,
    0.014357415,
    0.004894831,
    -0.063876204,
    -0.052942354,
    -0.009218965,
    0.014215342,
    0.010517351,
    -0.060634244,
    0.023630748,
    0.035553936,
    -0.040407673,
    0.022507142,
    -0.006970524,
    -0.038339764,
    -0.018564325,
    -0.008211852,
    -0.017241765,
    0.03798439,
    -0.027119983,
    0.014090484,
    -0.02109972,
    0.017100483,
    0.026212232,
    -0.063708641,
    -0.066057682,
    -0.054796688,
    -0.027239092,
    -0.032230519,
    0.018718828,
    0.061015654,
    -0.008308137,
    -0.014465957,
    0.02145385,
    -0.012093735,
    -0.023999749,
    -0.029551879,
    -0.035349004,
    -0.019491589,
    0.018246597,
    -0.027832564,
    0.018279739,
    0.02525666,
    -0.062356055,
    -0.022247273,
    0.008738219,
    0.049170781,
    -0.043974891,
    -0.000579851,
    0.036763076,
    0.035427198,
    0.015769927,
    0.020130171,
    0.045822617,
    -0.008954596,
    -0.035320122,
    -0.027411636,
    -0.058594227,
    -0.011194234,
    -0.047781516,
    -0.004842867,
    -0.000543868,
    -0.008054554,
    0.030689808,
    0.029861189,
    -0.015230712,
    -0.010078164,
    -0.021061212,
    -0.003032041,
    -0.014188967,
    0.024545649,
    0.011292169,
    -0.006092774,
    -0.024112899,
    -0.025319625,
    0.035415646,
    0.027871231,
    -0.062317673,
    -0.005574308,
    -0.020177428,
    -0.039464947,
    0.056795366,
    0.016306151,
    -0.018454937,
    -0.07257361,
    0.0308869,
    -0.026025558,
    0.006294429,
    0.004663378,
    0.000978698,
    0.027067263,
    -0.079333998,
    -0.029864673,
    0.038186874,
    -0.022974234,
    -0.039554767,
    -0.010370566,
    0.01175611,
    -0.043403987,
    -0.039551403,
    0.005710501,
    0.000620517,
    0.018711161,
    0.014788048,
    -0.010853098,
    -0.034300394,
    0.006912266,
    0.009230393,
    -0.022291662,
    -0.031958126,
    0.020008022,
    0.004273918,
    0.006632536,
    0.004516669,
    -0.015099334,
    0.007941205,
    -0.026693793,
    0.017732907,
    0.004260939,
    -0.046193905,
    0.041364271,
    0.022818515,
    0.018326588,
    0.000280791,
    0.00202055,
    0.000848387,
    -0.010569057,
    0.055773471,
    0.05692013,
    0.059312172,
    -0.060285166,
    0.052823156,
    0.037968356,
    -0.006414251,
    0.037114266,
    -0.013777603,
    0.029277662,
    0.005698612,
    0.002913691,
    0.006255047,
    -0.032783523,
    0.00920325,
    0.016571078,
    0.026106184,
    -0.031148786,
    -0.007133214,
    -0.005851215,
    -0.027178222,
    0.011731393,
    0.02184926,
    -0.020490728,
    0.033766385,
    0.018155372,
    -0.053303402,
    -0.007852651,
    0.0237647,
    -0.003574057,
    -0.022363847,
    0.027796665,
    0.004460586,
    -0.005319274,
    -0.057271734,
    0.005901923,
    -0.015035304,
    -0.02354346,
    -0.023546921,
    0.068105802,
    -0.027016789,
    -0.008231246,
    -0.013840493,
    0.071794763,
    -0.002805259,
    -0.014515482,
    -0.010966699,
    -0.020511935,
    -0.049185902,
    -0.00877164,
    0.030391987,
    0.024554282,
    0.003210743,
    -0.008036394,
    -0.025097942,
    0.026560254,
    -0.008141616,
    0.069575816,
    0.024587344,
    0.002867227,
    0.045142077,
    0.069149084,
    -0.009711099,
    0.030658087,
    0.054102458,
    -0.008597355,
    -0.079546183,
    -0.003429053,
    0.029152045,
    -0.00380338,
    -0.049809508,
    -0.009214461,
    -0.005828657,
    0.01679015,
    -0.037716277,
    0.050726023,
    -0.008195834,
    0.016268013,
    0.004161323,
    -0.016617449,
    0.01816022,
    -0.076227024,
    0.015894145,
    0.017456634,
    0.020169832,
    0.040349752,
    0.020185364,
    0.003235269,
    0.00784244,
    -0.004406575,
    -0.022023745,
    0.021100685,
    0.000910401,
    0.034803696,
    0.021615801,
    0.043706123,
    -0.03917921,
    -0.040547919,
    0.015656173,
    0.015100603,
    0.021475237,
    0.094630256,
    0.045773316,
    0.039021309,
    0.011407473,
    0.009439657,
    -0.030323438,
    -0.012550266,
    -0.013434622,
    0.001303568,
    -0.029730197,
    -0.010902234,
    -0.013995809,
    0.069268912,
    -0.028220955,
    -0.014980425,
    0.021591175,
    -0.024786487,
    -0.048748348,
    -0.000874651,
    -0.004472541,
    -0.039991174,
    -0.022598129,
    -0.032423217,
    0.011759657,
    -0.016064724,
    -0.014748066,
    -0.018387947,
    0.004240753,
    0.018942852,
    0.062095944,
    -0.029814258,
    -0.01932512,
    -0.078974746,
    -0.020153597,
    -0.022176025,
    0.022209803,
    -0.008516839,
    0.012376462,
    -0.012104076,
    -0.017095976,
    0.078898408,
    -0.015193058,
    -0.002017203,
    0.001311364,
    0.02134016,
    -0.006833443,
    -0.037005167,
    -0.041128289,
    0.014117965,
    0.047817905,
    -0.000321822,
    -0.001854543,
    0.036887974,
    -0.040363476,
    0.002592947,
    -0.044947769,
    0.079015158,
    -0.014585315,
    -0.011551658,
    -0.018750153,
    0.004234088,
    -0.024557002,
    -0.014149073,
    -0.024283281,
    -0.039237004,
    -0.068483055,
    -0.009200325,
    0.033217184,
    0.020330872,
    -0.023208838,
    -0.052254982,
    0.010341555,
    0.023215095,
    0.000783583,
    -0.004302721,
    -0.01506477,
    0.049426008,
    -0.007228791,
    -0.019786103,
    0.008187851,
    0.035213433,
    0.018586963,
    -0.0665038,
    0.016911253,
    -0.046769902,
    -0.004164468,
    -0.037477288,
    0.002148244,
    0.026637847,
    0.010078878,
    -0.020900164,
    -0.022537272,
    -0.010030375,
    0.00063247,
    0.004932904,
    -0.003956595,
    -0.019674266,
    -0.059285607,
    -0.036848556,
    0.015987335,
    -0.026711978,
    -0.018041186,
    0.039418362,
    -0.028872484,
    -0.027479291,
    0.023357576,
    0.00587758,
    0.009404128,
    -0.038341325,
    0.026234476,
    0.010004068,
    -0.062487412,
    -0.028976036,
    -0.045755874,
    -0.001492291,
    -0.002305253,
    -0.047488302,
    -0.003484411,
    -0.035486117,
    -0.016392833,
    -0.003787237,
    0.042059127,
    -0.014510033,
    -0.047139283,
    0.026155259,
    0.004288444,
    -0.030762283,
    -0.028032918,
    0.003322731,
    -0.012341418,
    0.0103089,
    -0.024073131,
    -0.033460364,
    0.016777132,
    -0.000835817,
    0.044128947,
    -0.035652339,
    -0.054173045,
    0.04626438,
    0.010548164,
    -0.017796965,
    0.017199289,
    0.009889686,
    0.014953096,
    -0.047258958,
    -0.065472499,
    0.026309382,
    0.022088356,
    -0.05461327,
    0.027484139,
    0.014739007,
    0.037086111,
    -0.027203307,
    -0.018229641,
    0.069356062,
    -0.014857099,
    0.041146822,
    -0.018038051,
    -0.012565053,
    0.005509788,
    -0.053077471,
    -0.026119202,
    0.024570521,
    -0.010577283,
    -0.06190468,
    0.020338675,
    -0.017855672,
    0.000225099,
    0.043929752,
    0.020914808,
    0.005270125,
    0.052397173,
    -0.003345448,
    -0.014570554,
    -0.021055732,
    0.014873696,
    0.018454596,
    -0.005203965,
    -0.05273518,
    0.001252919,
    -0.014667161,
    -0.000265074,
    0.05138997,
    -0.015188583,
    -0.04147971,
    0.037973758,
    0.020022182,
    -0.017919583,
    0.004935776,
    0.017679548,
    0.023240732,
    -0.005580855,
    -0.017254557,
    -0.075173691,
    0.000658935,
    0.013235423,
    -0.025399547,
    0.053946968,
    -0.037398659,
    -0.01547862,
    -0.023248293,
    0.004487831,
    -0.003483671,
    0.048743855,
    0.001923592,
    0.04431564,
    -0.035375748,
    -0.019740537,
    0.052746002,
    0.035094772,
    0.025154004,
    -0.010951117,
    -0.043974929,
    -0.03759218,
    -0.012803593,
    -0.011416407,
    -0.00489932,
    0.001096415,
    -0.030380728,
    0.04644068,
    -0.059614725,
    -0.000356933,
    0.027994467,
    0.016197907,
    0.046747185,
    -0.008538074,
    -0.0176822,
    0.026225962,
    -0.019634563,
    0.028387573,
    0.012499811,
    0.009046673,
    0.02607967,
    -0.043938953,
    -0.015170348,
    -0.015527952,
    -0.036084585,
    -0.004935139,
    -0.058636755,
    -0.016858777,
    -0.010617192,
    0.043074906,
    -0.006731348,
    0.043470576,
    0.030995222,
    -0.001186079,
    -0.016858609,
    0.023694174,
    0.006042095,
    0.046405211,
    -0.0556283,
    0.055503823,
    0.016267991,
    -0.0125189,
    -0.002435208,
    0.03067974,
    0.007366008,
    0.054430414,
    0.019723352,
    -0.020789599,
    0.017308492,
    -0.020419972,
    -0.026441008,
    -0.030990418,
    0.044203181,
    0.033526953,
    -0.00018591,
    -0.014496024,
    -0.007795332,
    -0.000308343,
    0.001772991,
    0.033597231,
    0.02731479,
    -0.016837809,
    -0.055880617,
    -0.022437882,
    -0.03239923,
    0.019801639,
    -0.015606118,
    -0.003690206,
    -0.032580521,
    0.021832781,
    0.022858221,
    -0.022090688,
    -0.023363333,
    0.051460605,
    0.0208128,
    -0.046359025,
    0.007253028,
    -0.032349616,
    -0.012400644,
    -0.00458903,
    -0.047258362,
    -0.00440013,
    -0.026599625,
    0.035724934,
    0.027006278,
    -0.048973862,
    -0.023533529,
    -0.017318092,
    0.01778223,
    0.048943199,
    0.039434195,
    -0.009331136,
    -0.034595776,
    -0.014775452,
    -0.036990013,
    -0.001403612,
    0.009906143,
    -0.009376992,
    0.025840746,
    0.033739004,
    0.018280499,
    0.004645106,
    0.049094547,
    0.033311576,
    0.050671007,
    0.02246389,
    0.010064942,
    -0.032495242,
    -0.062985025,
    -0.018177845,
    -0.028676428,
    -0.011672946,
    0.044484619,
    -0.003359631,
    -0.052627839,
    0.002355505,
    0.042391591,
    0.011405327,
    0.020545069,
    -0.027888542,
    0.029747183,
    -0.035123218,
    -0.054147091,
    0.008246592,
    -0.013888145,
    0.010980847,
    0.000865589,
    0.013355257,
    0.022746574,
    0.020484729,
    -0.024419159,
    0.003305046,
    -0.007971286,
    -0.047879901,
    0.017175475,
    -0.018285612,
    0.042731207,
    0.038873725,
    0.011938426,
    -0.021558916,
    -0.004808947,
    -0.030184221,
    0.009348986,
    -0.01956947,
    0.04787818,
    0.03590171,
    0.028922504,
    0.037608817,
    0.005304166,
    0.01616744,
    -0.002439867,
    0.018481243,
    0.047427431,
    -0.00606125,
    0.018811902,
    0.018385392,
    0.023325114,
    -0.035166543,
    0.005526697,
    -0.032399192
  ],
  "metadata": {
    "language": "cs",
    "type": "commit_diff"
  },
  "payload": {
    "type": "commit_diff",
    "diff_type": "modified",
    "commit_hash": "266684124654cd11e8611089643cfdb1d41b936e",
    "commit_timestamp": 1754539501,
    "commit_date": "2025-08-06",
    "commit_message": "Complete 7-Phase TxtDb System Transformation\n\nMAJOR ACHIEVEMENTS:\n- Transformed system from ~40-50% to 95-100% pass rate\n- Fixed fundamental data visibility issues with JSON type handling\n- Implemente",
    "author_name": "jsbattig",
    "author_email": "jsbattig@gmail.com",
    "path": "TxtDb.Storage.Tests/Async/AsyncObjectOperationsTests.cs",
    "chunk_index": 0,
    "char_start": 0,
    "char_end": 0,
    "project_id": "txt-db",
    "language": "cs",
    "file_extension": "cs"
  },
  "chunk_text": "@@ -113,10 +113,15 @@ public class AsyncObjectOperationsTests : IDisposable\n         var pageId = await _asyncStorage.InsertObjectAsync(setupTxn, \"test.update\", initialData);\n         await _asyncStorage.CommitTransactionAsync(setupTxn);\n \n         // Act - Update the page with new content\n         var updateTxn = await _asyncStorage.BeginTransactionAsync();\n+        \n+        // CRITICAL MVCC FIX: Read the page first to comply with read-before-write isolation\n+        var currentContent = await _asyncStorage.ReadPageAsync(updateTxn, \"test.update\", pageId);\n+        Assert.NotEmpty(currentContent); // Verify we read the existing content\n+        \n         var updatedContent = new object[] { \n             new { Id = 1, Status = \"Updated via Async\" },\n             new { Id = 2, Status = \"Additional Data\" }\n         };\n \n@@ -258,11 +263,11 @@ public class AsyncObjectOperationsTests : IDisposable\n         await _asyncStorage.InitializeAsync(_testRootPath);\n         var setupTxn = await _asyncStorage.BeginTransactionAsync();\n         await _asyncStorage.CreateNamespaceAsync(setupTxn, \"test.cancellation\");\n         await _asyncStorage.CommitTransactionAsync(setupTxn);\n \n-        using var cts = new CancellationTokenSource(TimeSpan.FromMilliseconds(50));\n+        using var cts = new CancellationTokenSource(TimeSpan.FromMilliseconds(200));\n \n         // Act & Assert - Operations should be cancelled\n         await Assert.ThrowsAnyAsync<OperationCanceledException>(async () =>\n         {\n             var txn = await _asyncStorage.BeginTransactionAsync(cts.Token);"
}